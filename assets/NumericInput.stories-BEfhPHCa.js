import{j as at,E as rt,k as ot,n as lt,l as ct,L as ht,N as ut,m as dt,o as mt,q as gt,r as ft,t as Ie,v as pt,S as vt,w as yt,x as St,y as q,z as bt,A as xe,g as x,B as wt,C as Pt,D as we,F as Q,G as De,H as Be,e as ie,d as se,p as ne,I as T,J as Et,u as Fe,K as I,a as V,M as Z,b as C,c as ae,f as re,s as R,O as he,P as ke,Q as Ot,R as Ct,U as xt,V as Ft,W as X,X as kt,h as Tt,T as Te,Y as Vt,Z as Nt}from"./iframe-HdEjoWid.js";function le(h,e,...t){var i=h,r=lt,n;at(()=>{r!==(r=e())&&(n&&(ct(n),n=null),n=ot(()=>r(i,...t)))},rt)}function Me(h){var e,t,i="";if(typeof h=="string"||typeof h=="number")i+=h;else if(typeof h=="object")if(Array.isArray(h)){var r=h.length;for(e=0;e<r;e++)h[e]&&(t=Me(h[e]))&&(i&&(i+=" "),i+=t)}else for(t in h)h[t]&&(i&&(i+=" "),i+=t);return i}function _t(){for(var h,e,t=0,i="",r=arguments.length;t<r;t++)(h=arguments[t])&&(e=Me(h))&&(i&&(i+=" "),i+=e);return i}function Lt(h){return typeof h=="object"?_t(h):h??""}function It(h,e,t){var i=h==null?"":""+h;return i===""?null:i}function Dt(h,e,t,i,r,n){var l=h.__className;if(l!==t||l===void 0){var o=It(t);o==null?h.removeAttribute("class"):h.className=o,h.__className=t}return n}const Bt=Symbol("is custom element"),Mt=Symbol("is html");function ye(h,e,t,i){var r=Rt(h);r[e]!==(r[e]=t)&&(e==="loading"&&(h[ht]=t),t==null?h.removeAttribute(e):typeof t!="string"&&Ut(h).includes(e)?h[e]=t:h.setAttribute(e,t))}function Rt(h){return h.__attributes??={[Bt]:h.nodeName.includes("-"),[Mt]:h.namespaceURI===ut}}var Ve=new Map;function Ut(h){var e=h.getAttribute("is")||h.nodeName,t=Ve.get(e);if(t)return t;Ve.set(e,t=[]);for(var i,r=h,n=Element.prototype;n!==r;){i=mt(r);for(var l in i)i[l].set&&t.push(l);r=dt(r)}return t}function Ne(h,e){return h===e||h?.[vt]===e}function $t(h={},e,t,i){return gt(()=>{var r,n;return ft(()=>{r=n,n=[],Ie(()=>{h!==t(...n)&&(e(h,...n),r&&Ne(t(...r),h)&&e(null,...r))})}),()=>{pt(()=>{n&&Ne(t(...n),h)&&e(null,...n)})}}),h}function zt(h=!1){const e=yt,t=e.l.u;if(!t)return;let i=()=>wt(e.s);if(h){let r=0,n={};const l=Pt(()=>{let o=!1;const c=e.s;for(const u in c)c[u]!==n[u]&&(n[u]=c[u],o=!0);return o&&r++,r});i=()=>x(l)}t.b.length&&St(()=>{_e(e,i),xe(t.b)}),q(()=>{const r=Ie(()=>t.m.map(bt));return()=>{for(const n of r)typeof n=="function"&&n()}}),t.a.length&&q(()=>{_e(e,i),xe(t.a)})}function _e(h,e){if(h.l.s)for(const t of h.l.s)x(t);e()}var Kt=Object.create,Re=Object.defineProperty,At=Object.getOwnPropertyDescriptor,Wt=Object.getOwnPropertyNames,Gt=Object.getPrototypeOf,jt=Object.prototype.hasOwnProperty,Ht=(h,e)=>()=>(e||h((e={exports:{}}).exports,e),e.exports),Zt=(h,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Wt(e))!jt.call(h,r)&&r!==t&&Re(h,r,{get:()=>e[r],enumerable:!(i=At(e,r))||i.enumerable});return h},qt=(h,e,t)=>(t=h!=null?Kt(Gt(h)):{},Zt(!h||!h.__esModule?Re(t,"default",{value:h,enumerable:!0}):t,h)),Yt=Ht(h=>{Object.defineProperty(h,"__esModule",{value:!0}),h.isEqual=(function(){var e=Object.prototype.toString,t=Object.getPrototypeOf,i=Object.getOwnPropertySymbols?function(r){return Object.keys(r).concat(Object.getOwnPropertySymbols(r))}:Object.keys;return function(r,n){return(function l(o,c,u){var m,g,f,v=e.call(o),p=e.call(c);if(o===c)return!0;if(o==null||c==null)return!1;if(u.indexOf(o)>-1&&u.indexOf(c)>-1)return!0;if(u.push(o,c),v!=p||(m=i(o),g=i(c),m.length!=g.length||m.some(function(E){return!l(o[E],c[E],u)})))return!1;switch(v.slice(8,-1)){case"Symbol":return o.valueOf()==c.valueOf();case"Date":case"Number":return+o==+c||+o!=+o&&+c!=+c;case"RegExp":case"Function":case"String":case"Boolean":return""+o==""+c;case"Set":case"Map":m=o.entries(),g=c.entries();do if(!l((f=m.next()).value,g.next().value,u))return!1;while(!f.done);return!0;case"ArrayBuffer":o=new Uint8Array(o),c=new Uint8Array(c);case"DataView":o=new Uint8Array(o.buffer),c=new Uint8Array(c.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(o.length!=c.length)return!1;for(f=0;f<o.length;f++)if((f in o||f in c)&&(f in o!=f in c||!l(o[f],c[f],u)))return!1;return!0;case"Object":return l(t(o),t(c),u);default:return!1}})(r,n,[])}})()});qt(Yt());var Jt=h=>h.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");const Xt=h=>h.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Qt=h=>Jt(h.replace(/([A-Z])/g," $1").trim()),Ue=h=>Xt(Qt(h)),ce="storybook-stories-extractor-context";function $e(h){let e=Q(h.isExtracting),t=Q(h.register);return{get isExtracting(){return e},get register(){return t}}}function ei(h){const{stories:e}=h,t=$e({isExtracting:!0,register:i=>{e.set(i.exportName??Ue(i.name),i)}});we(ce,t)}function ti(){return De(ce)||we(ce,$e({isExtracting:!1,register:()=>{}})),Be(ce)}const Se="storybook-story-renderer-context";function ii(h){let e=ie(Q(h.currentStoryExportName)),t=ie(Q(h.args)),i=ie(Q(h.storyContext)),r=ie(Q(h.metaRenderSnippet));function n(l){se(e,l.currentStoryExportName,!0),se(t,l.args,!0),se(i,l.storyContext,!0),se(r,l.metaRenderSnippet,!0)}return{get args(){return x(t)},get storyContext(){return x(i)},get currentStoryExportName(){return x(e)},get metaRenderSnippet(){return x(r)},set:n}}function si(){const h=ii({currentStoryExportName:void 0,args:{},storyContext:{}});we(Se,h)}function ze(){return De(Se)||si(),Be(Se)}const ni="svelte-csf",ai=`${ni}-v4`;var ri=re(" <!>",1),oi=re(" <!>",1),li=re('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function ci(h,e){ne(e,!0);let t=T(e,"asChild",3,!1),i=Et(e,["$$slots","$$events","$$legacy","children","name","exportName","play","template","asChild"]);const r=e.exportName??Ue(e.name);let n=ti(),l=ze(),o=Fe(()=>!n.isExtracting&&l.currentStoryExportName===r);n.isExtracting&&n.register({children:e.children,name:e.name,exportName:r,play:e.play,...i});function c(p,E){E&&p.playFunction&&(p.playFunction.__play=E)}function u(p){return typeof p=="function"}q(()=>{x(o)&&c(l.storyContext,e.play)});const m=Fe(()=>l.storyContext.tags?.some(p=>p===ai)??!1);var g=I(),f=V(g);{var v=p=>{var E=I(),P=V(E);{var y=S=>{var b=I(),_=V(b);le(_,()=>e.template,()=>l.args,()=>l.storyContext),C(S,b)},w=S=>{var b=I(),_=V(b);{var oe=K=>{var B=I(),F=V(B);{var D=k=>{var O=I(),A=V(O);le(A,()=>e.children),C(k,O)},M=k=>{var O=I(),A=V(O);{var J=L=>{var U=ri(),H=V(U);H.nodeValue=" ";var fe=R(H);he(fe,()=>l.storyContext.component,(pe,ve)=>{ve(pe,ke(()=>l.args,{get children(){return e.children}}))}),C(L,U)},te=L=>{var U=I(),H=V(U);le(H,()=>e.children),C(L,U)};Z(A,L=>{l.storyContext.component?L(J):L(te,!1)},!0)}C(k,O)};Z(F,k=>{t()||x(m)?k(D):k(M,!1)})}C(K,B)},Y=K=>{var B=I(),F=V(B);{var D=k=>{var O=I(),A=V(O);le(A,()=>l.metaRenderSnippet,()=>l.args,()=>l.storyContext),C(k,O)},M=k=>{var O=I(),A=V(O);{var J=L=>{var U=oi(),H=V(U);H.nodeValue=" ";var fe=R(H);he(fe,()=>l.storyContext.component,(pe,ve)=>{ve(pe,ke(()=>l.args))}),C(L,U)},te=L=>{var U=li();C(L,U)};Z(A,L=>{l.storyContext.component?L(J):L(te,!1)},!0)}C(k,O)};Z(F,k=>{l.metaRenderSnippet?k(D):k(M,!1)},!0)}C(K,B)};Z(_,K=>{u(e.children)?K(oe):K(Y,!1)},!0)}C(S,b)};Z(P,S=>{u(e.template)?S(y):S(w,!1)})}C(p,E)};Z(f,p=>{x(o)&&p(v)})}C(h,g),ae()}Ot();function hi(h){return{Story:ci}}const d={};d.allowedTagList=["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"];Object.freeze(d.allowedTagList);Object.defineProperty(d,"allowedTagList",{configurable:!1,writable:!1});d.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"};Object.freeze(d.fromCharCodeKeyCode);Object.defineProperty(d,"fromCharCodeKeyCode",{configurable:!1,writable:!1});d.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]};Object.freeze(d.keyName._allFnKeys);Object.freeze(d.keyName._someNonPrintableKeys);Object.freeze(d.keyName._directionKeys);Object.freeze(d.keyName);Object.defineProperty(d,"keyName",{configurable:!1,writable:!1});Object.freeze(d);class s{static isNull(e){return e===null}static isUndefined(e){return e===void 0}static isUndefinedOrNullOrEmpty(e){return e==null||e===""}static isString(e){return typeof e=="string"||e instanceof String}static isEmptyString(e){return e===""}static isBoolean(e){return typeof e=="boolean"}static isTrueOrFalseString(e){const t=String(e).toLowerCase();return t==="true"||t==="false"}static isObject(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}static isEmptyObj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}static isNumberStrict(e){return typeof e=="number"}static isNumber(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}static isDigit(e){return/\d/.test(e)}static isNumberOrArabic(e){const t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}static isInt(e){return typeof e=="number"&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}static isFunction(e){return typeof e=="function"}static contains(e,t){return!this.isString(e)||!this.isString(t)||e===""||t===""?!1:e.indexOf(t)!==-1}static isInArray(e,t){return!this.isArray(t)||t===[]||this.isUndefined(e)?!1:t.indexOf(e)!==-1}static isArray(e){if(Object.prototype.toString.call([])==="[object Array]")return Array.isArray(e)||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Array]";throw new Error("toString message changed for Object Array")}static isElement(e){return typeof Element>"u"?!1:e instanceof Element}static isInputElement(e){return this.isElement(e)&&e.tagName.toLowerCase()==="input"}static decimalPlaces(e){const[,t]=e.split(".");return this.isUndefined(t)?0:t.length}static indexFirstNonZeroDecimalPlace(e){const[,t]=String(Math.abs(e)).split(".");if(this.isUndefined(t))return 0;let i=t.lastIndexOf("0");return i===-1?i=0:i+=2,i}static keyCodeNumber(e){return typeof e.which>"u"?e.keyCode:e.which}static character(e){let t;if(e.key==="Unidentified"||e.key===void 0||this.isSeleniumBot()){const i=this.keyCodeNumber(e);if(i===229)return d.keyName.AndroidDefault;const r=d.fromCharCodeKeyCode[i];s.isUndefinedOrNullOrEmpty(r)?t=String.fromCharCode(i):t=r}else switch(e.key){case"Add":t=d.keyName.NumpadPlus;break;case"Apps":t=d.keyName.ContextMenu;break;case"Crsel":t=d.keyName.CrSel;break;case"Decimal":e.char?t=e.char:t=d.keyName.NumpadDot;break;case"Del":t=d.keyName.Delete;break;case"Divide":t=d.keyName.NumpadSlash;break;case"Down":t=d.keyName.DownArrow;break;case"Esc":t=d.keyName.Esc;break;case"Exsel":t=d.keyName.ExSel;break;case"Left":t=d.keyName.LeftArrow;break;case"Meta":case"Super":t=d.keyName.OSLeft;break;case"Multiply":t=d.keyName.NumpadMultiply;break;case"Right":t=d.keyName.RightArrow;break;case"Spacebar":t=d.keyName.Space;break;case"Subtract":t=d.keyName.NumpadMinus;break;case"Up":t=d.keyName.UpArrow;break;default:t=e.key}return t}static browser(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"ie",version:t[1]||""}):i[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!==null)?{name:t[1].replace("OPR","opera"),version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!==null&&i.splice(1,1,t[1]),{name:i[0].toLowerCase(),version:i[1]})}static isSeleniumBot(){return window.navigator.webdriver===!0}static isNegative(e,t="-",i=!0){return e===t?!0:e===""?!1:s.isNumber(e)?e<0:i?this.contains(e,t):this.isNegativeStrict(e,t)}static isNegativeStrict(e,t="-"){return e.charAt(0)===t}static isNegativeWithBrackets(e,t,i){return e.charAt(0)===t&&this.contains(e,i)}static isZeroOrHasNoValue(e){return!/[1-9]/g.test(e)}static setRawNegativeSign(e){return this.isNegativeStrict(e,"-")?e:`-${e}`}static replaceCharAt(e,t,i){return`${e.substr(0,t)}${i}${e.substr(t+i.length)}`}static clampToRangeLimits(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}static countNumberCharactersOnTheCaretLeftSide(e,t,i){const r=new RegExp(`[0-9${i}-]`);let n=0;for(let l=0;l<t;l++)r.test(e[l])&&n++;return n}static findCaretPositionInFormattedNumber(e,t,i,r){const n=i.length,l=e.length;let o,c=0;for(o=0;o<n&&c<l&&c<t;o++)(e[c]===i[o]||e[c]==="."&&i[o]===r)&&c++;return o}static countCharInText(e,t){let i=0;for(let r=0;r<t.length;r++)t[r]===e&&i++;return i}static convertCharacterCountToIndexPosition(e){return Math.max(e,e-1)}static getElementSelection(e){const t={};let i;try{i=this.isUndefined(e.selectionStart)}catch{i=!1}try{if(i){const n=window.getSelection().getRangeAt(0);t.start=n.startOffset,t.end=n.endOffset,t.length=t.end-t.start}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start}catch{t.start=0,t.end=0,t.length=0}return t}static setElementSelection(e,t,i=null){if(this.isUndefinedOrNullOrEmpty(i)&&(i=t),this.isInputElement(e))e.setSelectionRange(t,i);else if(!s.isNull(e.firstChild)){const r=document.createRange();r.setStart(e.firstChild,t),r.setEnd(e.firstChild,i);const n=window.getSelection();n.removeAllRanges(),n.addRange(r)}}static throwError(e){throw new Error(e)}static warning(e,t=!0){t&&console.warn(`Warning: ${e}`)}static isWheelEvent(e){return e instanceof WheelEvent}static isWheelUpEvent(e){return(!this.isWheelEvent(e)||this.isUndefinedOrNullOrEmpty(e.deltaY))&&this.throwError(`The event passed as a parameter is not a valid wheel event, '${e.type}' given.`),e.deltaY<0}static isWheelDownEvent(e){return(!this.isWheelEvent(e)||this.isUndefinedOrNullOrEmpty(e.deltaY))&&this.throwError(`The event passed as a parameter is not a valid wheel event, '${e.type}' given.`),e.deltaY>0}static isWheelEventWithZeroDeltaY(e){return this.isWheelEvent(e)&&!this.isUndefinedOrNullOrEmpty(e.deltaY)&&e.deltaY===0}static forceDecimalPlaces(e,t){const[i,r]=String(e).split(".");return r?`${i}.${r.substr(0,t)}`:e}static roundToNearest(e,t=1e3){return e===0?0:(t===0&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/t)*t)}static modifyAndRoundToNearestAuto(e,t,i){e=Number(this.forceDecimalPlaces(e,i));const r=Math.abs(e);if(r>=0&&r<1){const n=Math.pow(10,-i);if(e===0)return t?n:-n;let l;const o=i,c=this.indexFirstNonZeroDecimalPlace(e);c>=o-1?l=n:l=Math.pow(10,-(c+1));let u;return t?u=e+l:u=e-l,this.roundToNearest(u,l)}else{e=parseInt(e,10);const n=Math.abs(e).toString().length;let l;switch(n){case 1:l=0;break;case 2:case 3:l=1;break;case 4:case 5:l=2;break;default:l=n-3}const o=Math.pow(10,l);let c;return t?c=e+o:c=e-o,c<=10&&c>=-10?c:this.roundToNearest(c,o)}}static addAndRoundToNearestAuto(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}static subtractAndRoundToNearestAuto(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}static arabicToLatinNumbers(e,t=!0,i=!1,r=!1){if(this.isNull(e))return e;let n=e.toString();if(n==="")return e;if(n.match(/[٠١٢٣٤٥٦٧٨٩۴۵۶]/g)===null)return t&&(n=Number(n)),n;i&&(n=n.replace(/٫/,".")),r&&(n=n.replace(/٬/g,"")),n=n.replace(/[٠١٢٣٤٥٦٧٨٩]/g,o=>o.charCodeAt(0)-1632).replace(/[۰۱۲۳۴۵۶۷۸۹]/g,o=>o.charCodeAt(0)-1776);const l=Number(n);return isNaN(l)?l:(t&&(n=l),n)}static triggerEvent(e,t=document,i=null,r=!0,n=!0){let l;window.CustomEvent?l=new CustomEvent(e,{detail:i,bubbles:r,cancelable:n}):(l=document.createEvent("CustomEvent"),l.initCustomEvent(e,r,n,{detail:i})),t.dispatchEvent(l)}static parseStr(e){if(s.isUndefinedOrNullOrEmpty(e))return{s:1,e:0,c:[0]};const t={};let i,r,n,l;if(e===0&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),t.s=-1):t.s=1,i=e.indexOf("."),i>-1&&(e=e.replace(".","")),i<0&&(i=e.length),r=e.search(/[1-9]/i)===-1?e.length:e.search(/[1-9]/i),n=e.length,r===n)t.e=0,t.c=[0];else{for(l=n-1;e.charAt(l)==="0";l-=1)n-=1;for(n-=1,t.e=i-r-1,t.c=[],i=0;r<=n;r+=1)t.c[i]=+e.charAt(r),i+=1}return t}static testMinMax(e,t){const i=t.c,r=e.c;let n=t.s,l=e.s,o=t.e,c=e.e;if(!i[0]||!r[0]){let g;return i[0]?g=n:g=r[0]?-l:0,g}if(n!==l)return n;const u=n<0;if(o!==c)return o>c^u?1:-1;for(n=-1,o=i.length,c=r.length,l=o<c?o:c,n+=1;n<l;n+=1)if(i[n]!==r[n])return i[n]>r[n]^u?1:-1;let m;return o===c?m=0:m=o>c^u?1:-1,m}static randomString(e=5){return Math.random().toString(36).substr(2,e)}static domElement(e){let t;return s.isString(e)?t=document.querySelector(e):t=e,t}static getElementValue(e){return e.tagName.toLowerCase()==="input"?e.value:this.text(e)}static setElementValue(e,t=null){e.tagName.toLowerCase()==="input"?e.value=t:e.textContent=t}static setInvalidState(e,t="Invalid"){(t===""||this.isNull(t))&&this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(t)}static setValidState(e){e.setCustomValidity("")}static cloneObject(e){return Object.assign({},e)}static camelize(e,t="-",i=!0,r=!0){if(this.isNull(e))return null;i&&(e=e.replace(/^data-/,""));let l=e.split(t).map(o=>`${o.charAt(0).toUpperCase()}${o.slice(1)}`);return l=l.join(""),r&&(l=`${l.charAt(0).toLowerCase()}${l.slice(1)}`),l}static text(e){const t=e.nodeType;let i;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?i=e.textContent:t===Node.TEXT_NODE?i=e.nodeValue:i="",i}static setText(e,t){const i=e.nodeType;(i===Node.ELEMENT_NODE||i===Node.DOCUMENT_NODE||i===Node.DOCUMENT_FRAGMENT_NODE)&&(e.textContent=t)}static filterOut(e,t){return e.filter(i=>!this.isInArray(i,t))}static trimPaddedZerosFromDecimalPlaces(e){if(e=String(e),e==="")return"";const[t,i]=e.split(".");if(this.isUndefinedOrNullOrEmpty(i))return t;const r=i.replace(/0+$/g,"");let n;return r===""?n=t:n=`${t}.${r}`,n}static getHoveredElement(){const e=[...document.querySelectorAll(":hover")];return e[e.length-1]}static arrayTrim(e,t){const i=e.length;return i===0||t>i?e:t<0?[]:(e.length=parseInt(t,10),e)}static arrayUnique(...e){return[...new Set([].concat(...e))]}static mergeMaps(...e){return new Map(e.reduce((t,i)=>t.concat([...i]),[]))}static objectKeyLookup(e,t){const i=Object.entries(e).find(n=>n[1]===t);let r=null;return i!==void 0&&(r=i[0]),r}static insertAt(e,t,i){if(e=String(e),i>e.length)throw new Error("The given index is out of the string range.");if(t.length!==1)throw new Error("The given string `char` should be only one character long.");return e===""&&i===0?t:`${e.slice(0,i)}${t}${e.slice(i)}`}static scientificToDecimal(e){const t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!(this.contains(e,"e")||this.contains(e,"E")))return e;let[r,n]=e.split(/e/i);const l=r<0;l&&(r=r.replace("-",""));const o=+n<0;o&&(n=n.replace("-",""));const[c,u]=r.split(/\./);let m;return o?(c.length>n?m=this.insertAt(c,".",c.length-n):m=`0.${"0".repeat(n-c.length)}${c}`,m=`${m}${u||""}`):u?(r=`${c}${u}`,n<u.length?m=this.insertAt(r,".",+n+c.length):m=`${r}${"0".repeat(n-u.length)}`):(r=r.replace(".",""),m=`${r}${"0".repeat(Number(n))}`),l&&(m=`-${m}`),m}}class ui{constructor(e){if(e===null)throw new Error("Invalid AST")}evaluate(e){if(e==null)throw new Error("Invalid AST sub-tree");if(e.type==="number")return e.value;if(e.type==="unaryMinus")return-this.evaluate(e.left);{const t=this.evaluate(e.left),i=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(i);case"op_-":return t-i;case"op_*":return t*i;case"op_/":return t/i;default:throw new Error(`Invalid operator '${e.type}'`)}}}}class N{static createNode(e,t,i){const r=new N;return r.type=e,r.left=t,r.right=i,r}static createUnaryNode(e){const t=new N;return t.type="unaryMinus",t.left=e,t.right=null,t}static createLeaf(e){const t=new N;return t.type="number",t.value=e,t}}class di{constructor(e,t,i){this.type=e,this.value=t,this.symbol=i}}class mi{constructor(e){this.text=e,this.textLength=e.length,this.index=0,this.token=new di("Error",0,0)}_skipSpaces(){for(;this.text[this.index]===" "&&this.index<=this.textLength;)this.index++}getIndex(){return this.index}getNextToken(e="."){if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(s.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(e),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")";break}if(this.token.type!=="Error")this.token.symbol=this.text[this.index],this.index++;else throw new Error(`Unexpected token '${this.token.symbol}' at position '${this.token.index}' in the token function`);return this.token}_getNumber(e){this._skipSpaces();const t=this.index;for(;this.index<=this.textLength&&s.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&s.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}class gi{constructor(e,t="."){return this.text=e,this.decimalCharacter=t,this.lexer=new mi(e),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}_exp(){const e=this._term(),t=this._moreExp();return N.createNode("op_+",e,t)}_moreExp(){let e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),N.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),N.createNode("op_-",t,e)}return N.createLeaf(0)}_term(){const e=this._factor(),t=this._moreTerms();return N.createNode("op_*",e,t)}_moreTerms(){let e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),N.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),N.createNode("op_/",t,e)}return N.createLeaf(1)}_factor(){let e,t,i;switch(this.token.type){case"num":return i=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),N.createLeaf(i);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),N.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error(`Unexpected token '${this.token.symbol}' with type '${this.token.type}' at position '${this.token.index}' in the factor function`)}}_match(e){const t=this.lexer.getIndex()-1;if(this.text[t]===e)this.token=this.lexer.getNextToken(this.decimalCharacter);else throw new Error(`Unexpected token '${this.token.symbol}' at position '${t}' in the match function`)}}/**
 *               AutoNumeric.js
 *
 * @version      4.10.9
 * @date         2025-09-03 UTC 09:00
 *
 * @authors      2016-2025 Alexandre Bonneau <alexandre.bonneau@linuxfr.eu>
 *               2009-2016 Bob Knothe <bob.knothe@gmail.com>
 * @contributors Sokolov Yura and others, cf. AUTHORS
 * @copyright    Alexandre Bonneau & Robert J. Knothe
 * @since        2009-08-09
 *
 * @summary      AutoNumeric is a standalone Javascript library
 *               that provides live *as-you-type* formatting for
 *               international numbers and currencies.
 *
 * @link         http://autonumeric.org
 * @docs         https://docs.autonumeric.org
 *
 *               Note : Some functions are borrowed from big.js
 * @see          https://github.com/MikeMcl/big.js/
 *
 * Please report any bugs to https://github.com/autoNumeric/autoNumeric
 *
 * @license      Released under the MIT License
 * @link         http://www.opensource.org/licenses/mit-license.php
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sub license, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */class a{static options;static events;static defaultSettings;static predefinedOptions;static version(){return"4.10.9"}constructor(e=null,t=null,i=null){const{domElement:r,initialValue:n,userOptions:l}=a._setArgumentsValues(e,t,i);if(this.domElement=r,this.defaultRawValue="",this._setSettings(l,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(n);else{let o;if(s.isNull(n))switch(this.settings.emptyInputBehavior){case a.options.emptyInputBehavior.min:o=this.settings.minimumValue;break;case a.options.emptyInputBehavior.max:o=this.settings.maximumValue;break;case a.options.emptyInputBehavior.zero:o="0";break;case a.options.emptyInputBehavior.focus:case a.options.emptyInputBehavior.press:case a.options.emptyInputBehavior.always:o="";break;case a.options.emptyInputBehavior.null:o=null;break;default:o=this.settings.emptyInputBehavior}else o=n;this._setElementAndRawValue(o)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(n),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:(o,c=null)=>{this.autoNumericLocalList.forEach(u=>{u.set(o,c)})},setUnformatted:(o,c=null)=>{this.autoNumericLocalList.forEach(u=>{u.setUnformatted(o,c)})},get:(o=null)=>{const c=[];return this.autoNumericLocalList.forEach(u=>{c.push(u.get())}),this._executeCallback(c,o),c},getNumericString:(o=null)=>{const c=[];return this.autoNumericLocalList.forEach(u=>{c.push(u.getNumericString())}),this._executeCallback(c,o),c},getFormatted:(o=null)=>{const c=[];return this.autoNumericLocalList.forEach(u=>{c.push(u.getFormatted())}),this._executeCallback(c,o),c},getNumber:(o=null)=>{const c=[];return this.autoNumericLocalList.forEach(u=>{c.push(u.getNumber())}),this._executeCallback(c,o),c},getLocalized:(o=null)=>{const c=[];return this.autoNumericLocalList.forEach(u=>{c.push(u.getLocalized())}),this._executeCallback(c,o),c},reformat:()=>{this.autoNumericLocalList.forEach(o=>{o.reformat()})},unformat:()=>{this.autoNumericLocalList.forEach(o=>{o.unformat()})},unformatLocalized:(o=null)=>{this.autoNumericLocalList.forEach(c=>{c.unformatLocalized(o)})},update:(...o)=>{this.autoNumericLocalList.forEach(c=>{c.update(...o)})},isPristine:(o=!0)=>{let c=!0;return this.autoNumericLocalList.forEach(u=>{c&&!u.isPristine(o)&&(c=!1)}),c},clear:(o=!1)=>{this.autoNumericLocalList.forEach(c=>{c.clear(o)})},remove:()=>{this.autoNumericLocalList.forEach(o=>{o.remove()})},wipe:()=>{this.autoNumericLocalList.forEach(o=>{o.wipe()})},nuke:()=>{this.autoNumericLocalList.forEach(o=>{o.nuke()})},has:o=>{let c;return o instanceof a?c=this.autoNumericLocalList.has(o.node()):c=this.autoNumericLocalList.has(o),c},addObject:o=>{let c,u;o instanceof a?(c=o.node(),u=o):(c=o,u=a.getAutoNumericElement(c)),this._hasLocalList()||this._createLocalList();let m=u._getLocalList();m.size===0&&(u._createLocalList(),m=u._getLocalList());let g;m instanceof Map?g=s.mergeMaps(this._getLocalList(),m):(this._addToLocalList(c,u),g=this._getLocalList()),g.forEach(f=>{f._setLocalList(g)})},removeObject:(o,c=!1)=>{let u,m;o instanceof a?(u=o.node(),m=o):(u=o,m=a.getAutoNumericElement(u));const g=this.autoNumericLocalList;this.autoNumericLocalList.delete(u),g.forEach(f=>{f._setLocalList(this.autoNumericLocalList)}),!c&&u===this.node()?m._setLocalList(new Map):m._createLocalList()},empty:(o=!1)=>{this.autoNumericLocalList.forEach(u=>{o?u._createLocalList():u._setLocalList(new Map)})},elements:()=>{const o=[];return this.autoNumericLocalList.forEach(c=>{o.push(c.node())}),o},getList:()=>this.autoNumericLocalList,size:()=>this.autoNumericLocalList.size},this.options={reset:()=>(this.settings={rawValue:this.defaultRawValue},this.update(a.defaultSettings),this),allowDecimalPadding:o=>(this.update({allowDecimalPadding:o}),this),alwaysAllowDecimalCharacter:o=>(this.update({alwaysAllowDecimalCharacter:o}),this),caretPositionOnFocus:o=>(this.settings.caretPositionOnFocus=o,this),createLocalList:o=>(this.settings.createLocalList=o,this.settings.createLocalList?this._hasLocalList()||this._createLocalList():this._deleteLocalList(),this),currencySymbol:o=>(this.update({currencySymbol:o}),this),currencySymbolPlacement:o=>(this.update({currencySymbolPlacement:o}),this),decimalCharacter:o=>(this.update({decimalCharacter:o}),this),decimalCharacterAlternative:o=>(this.settings.decimalCharacterAlternative=o,this),decimalPlaces:o=>(s.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",this.settings.showWarnings),this.update({decimalPlaces:o}),this),decimalPlacesRawValue:o=>(this.update({decimalPlacesRawValue:o}),this),decimalPlacesShownOnBlur:o=>(this.update({decimalPlacesShownOnBlur:o}),this),decimalPlacesShownOnFocus:o=>(this.update({decimalPlacesShownOnFocus:o}),this),defaultValueOverride:o=>(this.update({defaultValueOverride:o}),this),digitalGroupSpacing:o=>(this.update({digitalGroupSpacing:o}),this),digitGroupSeparator:o=>(this.update({digitGroupSeparator:o}),this),divisorWhenUnfocused:o=>(this.update({divisorWhenUnfocused:o}),this),emptyInputBehavior:o=>(this.rawValue===null&&o!==a.options.emptyInputBehavior.null&&(s.warning(`You are trying to modify the \`emptyInputBehavior\` option to something different than \`'null'\` (${o}), but the element raw value is currently set to \`null\`. This would result in an invalid \`rawValue\`. In order to fix that, the element value has been changed to the empty string \`''\`.`,this.settings.showWarnings),this.rawValue=""),this.update({emptyInputBehavior:o}),this),eventBubbles:o=>(this.settings.eventBubbles=o,this),eventIsCancelable:o=>(this.settings.eventIsCancelable=o,this),failOnUnknownOption:o=>(this.settings.failOnUnknownOption=o,this),formatOnPageLoad:o=>(this.settings.formatOnPageLoad=o,this),formulaMode:o=>(this.settings.formulaMode=o,this),historySize:o=>(this.settings.historySize=o,this),invalidClass:o=>(this.settings.invalidClass=o,this),isCancellable:o=>(this.settings.isCancellable=o,this),leadingZero:o=>(this.update({leadingZero:o}),this),maximumValue:o=>(this.update({maximumValue:o}),this),minimumValue:o=>(this.update({minimumValue:o}),this),modifyValueOnUpDownArrow:o=>(this.settings.modifyValueOnUpDownArrow=o,this),modifyValueOnWheel:o=>(this.settings.modifyValueOnWheel=o,this),negativeBracketsTypeOnBlur:o=>(this.update({negativeBracketsTypeOnBlur:o}),this),negativePositiveSignPlacement:o=>(this.update({negativePositiveSignPlacement:o}),this),negativeSignCharacter:o=>(this.update({negativeSignCharacter:o}),this),negativePositiveSignBehavior:o=>(this.settings.negativePositiveSignBehavior=o,this),noEventListeners:o=>(o===a.options.noEventListeners.noEvents&&this.settings.noEventListeners===a.options.noEventListeners.addEvents&&this._removeEventListeners(),this.update({noEventListeners:o}),this),onInvalidPaste:o=>(this.settings.onInvalidPaste=o,this),outputFormat:o=>(this.settings.outputFormat=o,this),overrideMinMaxLimits:o=>(this.update({overrideMinMaxLimits:o}),this),positiveSignCharacter:o=>(this.update({positiveSignCharacter:o}),this),rawValueDivisor:o=>(this.update({rawValueDivisor:o}),this),readOnly:o=>(this.settings.readOnly=o,this._setWritePermissions(),this),roundingMethod:o=>(this.update({roundingMethod:o}),this),saveValueToSessionStorage:o=>(this.update({saveValueToSessionStorage:o}),this),symbolWhenUnfocused:o=>(this.update({symbolWhenUnfocused:o}),this),selectNumberOnly:o=>(this.settings.selectNumberOnly=o,this),selectOnFocus:o=>(this.settings.selectOnFocus=o,this),serializeSpaces:o=>(this.settings.serializeSpaces=o,this),showOnlyNumbersOnFocus:o=>(this.update({showOnlyNumbersOnFocus:o}),this),showPositiveSign:o=>(this.update({showPositiveSign:o}),this),showWarnings:o=>(this.settings.showWarnings=o,this),styleRules:o=>(this.update({styleRules:o}),this),suffixText:o=>(this.update({suffixText:o}),this),unformatOnHover:o=>(this.settings.unformatOnHover=o,this),unformatOnSubmit:o=>(this.settings.unformatOnSubmit=o,this),upDownStep:o=>(this.settings.upDownStep=o,this),valuesToStrings:o=>(this.update({valuesToStrings:o}),this),watchExternalChanges:o=>(this.update({watchExternalChanges:o}),this),wheelOn:o=>(this.settings.wheelOn=o,this),wheelStep:o=>(this.settings.wheelStep=o,this)},this._triggerEvent(a.events.initialized,this.domElement,{newValue:s.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}static _setArgumentsValues(e,t,i){s.isNull(e)&&s.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");const r=s.isElement(e),n=s.isString(e),l=s.isObject(t),o=Array.isArray(t)&&t.length>0,c=s.isNumberOrArabic(t)||t==="",u=this._isPreDefinedOptionValid(t),m=s.isNull(t),g=s.isEmptyString(t),f=s.isObject(i),v=Array.isArray(i)&&i.length>0,p=s.isNull(i),E=this._isPreDefinedOptionValid(i);let P,y,w;return r&&m&&p?(P=e,w=null,y=null):r&&c&&p?(P=e,w=t,y=null):r&&l&&p?(P=e,w=null,y=t):r&&u&&p?(P=e,w=null,y=this._getOptionObject(t)):r&&o&&p?(P=e,w=null,y=this.mergeOptions(t)):r&&(m||g)&&f?(P=e,w=null,y=i):r&&(m||g)&&v?(P=e,w=null,y=this.mergeOptions(i)):n&&m&&p?(P=document.querySelector(e),w=null,y=null):n&&l&&p?(P=document.querySelector(e),w=null,y=t):n&&u&&p?(P=document.querySelector(e),w=null,y=this._getOptionObject(t)):n&&o&&p?(P=document.querySelector(e),w=null,y=this.mergeOptions(t)):n&&(m||g)&&f?(P=document.querySelector(e),w=null,y=i):n&&(m||g)&&v?(P=document.querySelector(e),w=null,y=this.mergeOptions(i)):n&&c&&p?(P=document.querySelector(e),w=t,y=null):n&&c&&f?(P=document.querySelector(e),w=t,y=i):n&&c&&E?(P=document.querySelector(e),w=t,y=this._getOptionObject(i)):n&&c&&v?(P=document.querySelector(e),w=t,y=this.mergeOptions(i)):r&&c&&f?(P=e,w=t,y=i):r&&c&&E?(P=e,w=t,y=this._getOptionObject(i)):r&&c&&v?(P=e,w=t,y=this.mergeOptions(i)):s.throwError(`The parameters given to the AutoNumeric object are not valid, '${e}', '${t}' and '${i}' given.`),s.isNull(P)&&s.throwError(`The selector '${e}' did not select any valid DOM element. Please check on which element you called AutoNumeric.`),{domElement:P,initialValue:w,userOptions:y}}static mergeOptions(e){const t={};return e.forEach(i=>{Object.assign(t,this._getOptionObject(i))}),t}static _isPreDefinedOptionValid(e){return Object.prototype.hasOwnProperty.call(a.predefinedOptions,e)}static _getOptionObject(e){let t;return s.isString(e)?(t=a.getPredefinedOptions()[e],t==null&&s.warning(`The given pre-defined option [${e}] is not recognized by autoNumeric. Please check that pre-defined option name.`,!0)):t=e,t}_saveInitialValues(e){this.initialValueHtmlAttribute=s.scientificToDecimal(this.domElement.getAttribute("value")),s.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,s.isNull(this.initialValue)&&(this.initialValue="")}_createEventListeners(){this.formulaMode=!1,this.compositioning=!1,this._onFocusInFunc=e=>{this._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=e=>{this._onFocusInAndMouseEnter(e)},this._onFocusFunc=()=>{this._onFocus()},this._onKeydownFunc=e=>{this._onKeydown(e)},this._onKeypressFunc=e=>{this._onKeypress(e)},this._onKeyupFunc=e=>{this._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=e=>{this._onFocusOutAndMouseLeave(e)},this._onPasteFunc=e=>{this._onPaste(e)},this._onWheelFunc=e=>{this._onWheel(e)},this._onDropFunc=e=>{this._onDrop(e)},this._onKeydownGlobalFunc=e=>{this._onKeydownGlobal(e)},this._onKeyupGlobalFunc=e=>{this._onKeyupGlobal(e)},this._onCompositionstartFunc=e=>{this._onCompositionstart(e)},this._onCompositionendFunc=e=>{this._onCompositionend(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this.domElement.addEventListener("compositionstart",this._onCompositionstartFunc,!1),this.domElement.addEventListener("compositionend",this._onCompositionendFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,a._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}_removeEventListeners(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this.domElement.removeEventListener("compositionstart",this._onCompositionstartFunc,!1),this.domElement.removeEventListener("compositionend",this._onCompositionendFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}_updateEventListeners(){!this.settings.noEventListeners&&!this.hasEventListeners&&this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}_setupFormListener(){s.isNull(this.parentForm)||(this._onFormSubmitFunc=()=>{this._onFormSubmit()},this._onFormResetFunc=()=>{this._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}_removeFormListener(){if(!s.isNull(this.parentForm)){const e=this._getParentFormCounter();e===1?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):e>1?this._decrementParentFormCounter():s.throwError("The AutoNumeric object count on the form is incoherent.")}}_hasParentFormCounter(){return"anCount"in this.parentForm.dataset}_getParentFormCounter(){return Number(this.parentForm.dataset.anCount)}_initializeFormCounterToOne(e=null){this._getFormElement(e).dataset.anCount=1}_incrementParentFormCounter(e=null){this._getFormElement(e).dataset.anCount++}_decrementParentFormCounter(){this.parentForm.dataset.anCount--}static _doesFormHandlerListExists(){const e=typeof window.aNFormHandlerMap;return e!=="undefined"&&e==="object"}static _createFormHandlerList(){window.aNFormHandlerMap=new Map}_hasFormHandlerFunction(e=null){return"anFormHandler"in this._getFormElement(e).dataset}_getFormElement(e=null){let t;return s.isNull(e)?t=this.parentForm:t=e,t}_storeFormHandlerFunction(e=null){this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();const t=s.randomString();this._getFormElement(e).dataset.anFormHandler=t,window.aNFormHandlerMap.set(t,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}_getFormHandlerKey(){this._hasFormHandlerFunction()||s.throwError("Unable to retrieve the form handler name");const e=this.parentForm.dataset.anFormHandler;return e===""&&s.throwError("The form handler name is invalid"),e}_getFormHandlerFunction(){const e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}_removeFormDataSetInfo(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}_setWritePermissions(e=!1){e&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}_setReadOnly(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}_setReadWrite(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}_addWatcher(){if(!s.isUndefined(this.getterSetter)){const{set:e,get:t}=this.getterSetter;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:()=>t.call(this.domElement),set:i=>{e.call(this.domElement,i),this.settings.watchExternalChanges&&!this.internalModification&&this.set(i)}})}}_removeWatcher(){if(!s.isUndefined(this.getterSetter)){const{set:e,get:t}=this.getterSetter;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:()=>t.call(this.domElement),set:i=>{e.call(this.domElement,i)}})}}_getAttributeToWatch(){let e;if(this.isInputElement)e="value";else{const t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}_historyTableAdd(){const e=this.historyTable.length===0;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){let t=!0;if(!e){const i=this.historyTableIndex+1;i<this.historyTable.length&&this.rawValue===this.historyTable[i].value?t=!1:s.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){const i=s.getElementSelection(this.domElement);this.selectionStart=i.start,this.selectionEnd=i.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),this.historyTable.length>1&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}_historyTableUndoOrRedo(e=!0){let t;if(e?(t=this.historyTableIndex>0,t&&this.historyTableIndex--):(t=this.historyTableIndex+1<this.historyTable.length,t&&this.historyTableIndex++),t){const i=this.historyTable[this.historyTableIndex];this.set(i.value,null,!1),s.setElementSelection(this.domElement,i.start,i.end)}}_historyTableUndo(){this._historyTableUndoOrRedo(!0)}_historyTableRedo(){this._historyTableUndoOrRedo(!1)}_historyTableForget(e=1){const t=[];for(let i=0;i<e;i++)t.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return t.length===1?t[0]:t}_historyTableCurrentValueUsed(){let e=this.historyTableIndex;e<0&&(e=0);let t;return s.isUndefinedOrNullOrEmpty(this.historyTable[e])?t="":t=this.historyTable[e].value,t}_parseStyleRules(){s.isUndefinedOrNullOrEmpty(this.settings.styleRules)||this.rawValue===""||(s.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(this.rawValue>=0?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),s.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),!s.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)&&this.settings.styleRules.ranges.length!==0&&this.settings.styleRules.ranges.forEach(e=>{this.rawValue>=e.min&&this.rawValue<e.max?this._addCSSClass(e.class):this._removeCSSClass(e.class)}),!s.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)&&this.settings.styleRules.userDefined.length!==0&&this.settings.styleRules.userDefined.forEach(e=>{if(s.isFunction(e.callback))if(s.isString(e.classes))e.callback(this.rawValue)?this._addCSSClass(e.classes):this._removeCSSClass(e.classes);else if(s.isArray(e.classes))if(e.classes.length===2)e.callback(this.rawValue)?(this._addCSSClass(e.classes[0]),this._removeCSSClass(e.classes[1])):(this._removeCSSClass(e.classes[0]),this._addCSSClass(e.classes[1]));else if(e.classes.length>2){const t=e.callback(this.rawValue);s.isArray(t)?e.classes.forEach((i,r)=>{s.isInArray(r,t)?this._addCSSClass(i):this._removeCSSClass(i)}):s.isInt(t)?e.classes.forEach((i,r)=>{r===t?this._addCSSClass(i):this._removeCSSClass(i)}):s.isNull(t)?e.classes.forEach(i=>{this._removeCSSClass(i)}):s.throwError(`The callback result is not an array nor a valid array index, ${typeof t} given.`)}else s.throwError("The classes attribute is not valid for the `styleRules` option.");else s.isUndefinedOrNullOrEmpty(e.classes)?e.callback(this):s.throwError("The callback/classes structure is not valid for the `styleRules` option.");else s.warning(`The given \`styleRules\` callback is not a function, ${typeof e.callback} given.`,this.settings.showWarnings)}))}_addCSSClass(e){this.domElement.classList.add(e)}_removeCSSClass(e){this.domElement.classList.remove(e)}update(...e){Array.isArray(e)&&Array.isArray(e[0])&&(e=e[0]);const t=s.cloneObject(this.settings),i=this.rawValue;let r={};s.isUndefinedOrNullOrEmpty(e)||e.length===0?r=null:e.length>=1&&e.forEach(n=>{this.constructor._isPreDefinedOptionValid(n)&&(n=this.constructor._getOptionObject(n)),Object.assign(r,n)});try{this._setSettings(r,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(i)}catch(n){return this._setSettings(t,!0),s.throwError(`Unable to update the settings, those are invalid: [${n}]`),this}return this}getSettings(){return this.settings}set(e,t=null,i=!0){if(s.isUndefined(e))return s.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(s.isNull(t)||this._setSettings(t,!0),e===null&&this.settings.emptyInputBehavior!==a.options.emptyInputBehavior.null)return s.warning(`You are trying to set the \`null\` value while the \`emptyInputBehavior\` option is set to ${this.settings.emptyInputBehavior}. If you want to be able to set the \`null\` value, you need to change the 'emptyInputBehavior' option to \`'null'\`.`,this.settings.showWarnings),this;let r;if(e===null)return this._setElementAndRawValue(null,null,i),this._saveValueToPersistentStorage(),this;if(r=this.constructor._toNumericValue(e,this.settings),isNaN(Number(r)))return s.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",i),this;if(r==="")switch(this.settings.emptyInputBehavior){case a.options.emptyInputBehavior.zero:r=0;break;case a.options.emptyInputBehavior.min:r=this.settings.minimumValue;break;case a.options.emptyInputBehavior.max:r=this.settings.maximumValue;break;default:s.isNumber(this.settings.emptyInputBehavior)&&(r=Number(this.settings.emptyInputBehavior))}if(r!==""){const[n,l]=this.constructor._checkIfInRangeWithOverrideOption(r,this.settings);if(n&&l&&this.settings.valuesToStrings&&this._checkValuesToStrings(r))return this._setElementAndRawValue(this.settings.valuesToStrings[r],r,i),this._saveValueToPersistentStorage(),this;if(s.isZeroOrHasNoValue(r)&&(r="0"),n&&l){let c=this.constructor._roundRawValue(r,this.settings);return c=this._trimLeadingAndTrailingZeros(c.replace(this.settings.decimalCharacter,".")),r=this._getRawValueToFormat(r),this.isFocused?r=this.constructor._roundFormattedValueShownOnFocus(r,this.settings):(this.settings.divisorWhenUnfocused&&(r=r/this.settings.divisorWhenUnfocused,r=r.toString()),r=this.constructor._roundFormattedValueShownOnBlur(r,this.settings)),r=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(r,this.settings),r=this.constructor._addGroupSeparators(r,this.settings,this.isFocused,this.rawValue,c),!this.isFocused&&this.settings.symbolWhenUnfocused&&(r=`${r}${this.settings.symbolWhenUnfocused}`),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(r,c,i),this._setValidOrInvalidState(c),this}else return this._triggerRangeEvents(n,l),s.throwError(`The value [${r}] being set falls outside of the minimumValue [${this.settings.minimumValue}] and maximumValue [${this.settings.maximumValue}] range set for this element`),this._removeValueFromPersistentStorage(),this.setValue("",i),this}else{let n;return this.settings.emptyInputBehavior===a.options.emptyInputBehavior.always?n=this.settings.currencySymbol:n="",this._setElementAndRawValue(n,"",i),this}}setUnformatted(e,t=null){if(e===null||s.isUndefined(e))return this;s.isNull(t)||this._setSettings(t,!0);const i=this.constructor._removeBrackets(e,this.settings),r=this.constructor._stripAllNonNumberCharacters(i,this.settings,!0,this.isFocused);return s.isNumber(r)||s.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(r,this.settings)?this.setValue(e):s.throwError(`The value is out of the range limits [${this.settings.minimumValue}, ${this.settings.maximumValue}].`),this}setValue(e,t=!0){return this._setElementAndRawValue(e,t),this}_setRawValue(e,t=!0){if(this.rawValue!==e){const i=this.rawValue;this.rawValue=e,!s.isNull(this.settings.rawValueDivisor)&&this.settings.rawValueDivisor!==0&&e!==""&&e!==null&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(a.events.rawValueModified,this.domElement,{oldRawValue:i,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),t&&window.requestAnimationFrame(()=>this._historyTableAdd())}}_setElementValue(e,t=!0){const i=s.getElementValue(this.domElement);return e!==i&&(this.internalModification=!0,s.setElementValue(this.domElement,e),this.internalModification=!1,t&&this._triggerEvent(a.events.formatted,this.domElement,{oldValue:i,newValue:e,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}_setElementAndRawValue(e,t=null,i=!0){return s.isNull(t)?t=e:s.isBoolean(t)&&(i=t,t=e),this._setElementValue(e),this._setRawValue(t,i),this}_getRawValueToFormat(e){let t;return!s.isNull(this.settings.rawValueDivisor)&&this.settings.rawValueDivisor!==0&&e!==""&&e!==null?t=e*this.settings.rawValueDivisor:t=e,t}_checkValuesToStrings(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}static _checkValuesToStringsArray(e,t){return s.isInArray(String(e),t)}static _checkValuesToStringsSettings(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}static _checkStringsToValuesSettings(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}_isUserManuallyEditingTheValue(){return this.isFocused&&this.isEditing||this.isDropEvent}_executeCallback(e,t){!s.isNull(t)&&s.isFunction(t)&&t(e,this)}_triggerEvent(e,t=document,i=null){s.triggerEvent(e,t,i,this.settings.eventBubbles,this.settings.eventIsCancelable)}get(e=null){return this.getNumericString(e)}getNumericString(e=null){let t;return s.isNull(this.rawValue)?t=null:t=s.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(t,e),t}getFormatted(e=null){"value"in this.domElement||"textContent"in this.domElement||s.throwError("Unable to get the formatted string from the element.");const t=s.getElementValue(this.domElement);return this._executeCallback(t,e),t}getNumber(e=null){let t;return this.rawValue===null?t=null:t=this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(t,e),t}getLocalized(e=null,t=null){s.isFunction(e)&&s.isNull(t)&&(t=e,e=null);let i;s.isEmptyString(this.rawValue)?i="":i=""+Number(this.rawValue),i!==""&&Number(i)===0&&this.settings.leadingZero!==a.options.leadingZero.keep&&(i="0");let r;s.isNull(e)?r=this.settings.outputFormat:r=e;const n=this.constructor._toLocale(i,r,this.settings);return this._executeCallback(n,t),n}reformat(){return this.set(this.rawValue),this}unformat(){return this._setElementValue(this.getNumericString()),this}unformatLocalized(e=null){return this._setElementValue(this.getLocalized(e)),this}isPristine(e=!0){let t;return e?t=this.initialValue===this.getNumericString():t=this.initialValueHtmlAttribute===this.getFormatted(),t}select(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}_defaultSelectAll(){s.setElementSelection(this.domElement,0,s.getElementValue(this.domElement).length)}selectNumber(){const e=s.getElementValue(this.domElement),t=e.length,i=this.settings.currencySymbol.length,r=this.settings.currencySymbolPlacement,n=s.isNegative(e,this.settings.negativeSignCharacter)?1:0,l=this.settings.suffixText.length;let o;r===a.options.currencySymbolPlacement.suffix?o=0:this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.left&&n===1&&i>0?o=i+1:o=i;let c;if(r===a.options.currencySymbolPlacement.prefix)c=t-l;else switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.left:c=t-(l+i);break;case a.options.negativePositiveSignPlacement.right:i>0?c=t-(i+n+l):c=t-(i+l);break;default:c=t-(i+l)}return s.setElementSelection(this.domElement,o,c),this}selectInteger(){let e=0;const t=this.rawValue>=0;(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix||this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.prefix||this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.none))&&(this.settings.showPositiveSign&&t||!t&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.left)&&(e=e+1),this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&(e=e+this.settings.currencySymbol.length);const i=s.getElementValue(this.domElement);let r=i.indexOf(this.settings.decimalCharacter);return r===-1&&(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix?r=i.length-this.settings.currencySymbol.length:r=i.length,!t&&(this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix)&&(r=r-1),r=r-this.settings.suffixText.length),s.setElementSelection(this.domElement,e,r),this}selectDecimal(){let e=s.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter),t;if(e===-1)e=0,t=0;else{e=e+1;let i;this.isFocused?i=this.settings.decimalPlacesShownOnFocus:i=this.settings.decimalPlacesShownOnBlur,t=e+Number(i)}return s.setElementSelection(this.domElement,e,t),this}node(){return this.domElement}parent(){return this.domElement.parentNode}detach(e=null){let t;return s.isNull(e)?t=this.domElement:t=e.node(),this._removeFromLocalList(t),this}attach(e,t=!0){return this._addToLocalList(e.node()),t&&e.update(this.settings),this}formatOther(e,t=null){return this._formatOrUnformatOther(!0,e,t)}unformatOther(e,t=null){return this._formatOrUnformatOther(!1,e,t)}_formatOrUnformatOther(e,t,i=null){let r;s.isNull(i)?r=this.settings:r=this._cloneAndMergeSettings(i);let n;if(s.isElement(t)){const l=s.getElementValue(t);return e?n=a.format(l,r):n=a.unformat(l,r),s.setElementValue(t,n),null}return e?n=a.format(t,r):n=a.unformat(t,r),n}init(e,t=!0){let i=!1,r=[];if(s.isString(e)?r=[...document.querySelectorAll(e)]:s.isElement(e)?(r.push(e),i=!0):s.isArray(e)?r=e:s.throwError("The given parameters to the 'init' function are invalid."),r.length===0)return s.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];const n=this._getLocalList(),l=[];return r.forEach(o=>{const c=this.settings.createLocalList;t&&(this.settings.createLocalList=!1);const u=new a(o,s.getElementValue(o),this.settings);t&&(u._setLocalList(n),this._addToLocalList(o,u),this.settings.createLocalList=c),l.push(u)}),i?l[0]:l}clear(e=!1){if(e){const t={emptyInputBehavior:a.options.emptyInputBehavior.focus};this.set("",t)}else this.set("");return this}remove(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}wipe(){this._setElementValue("",!1),this.remove()}nuke(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}form(e=!1){if(e||s.isUndefinedOrNullOrEmpty(this.parentForm)){const t=this._getParentForm();if(!s.isNull(t)&&t!==this.parentForm){const i=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=i.length,this._hasFormHandlerFunction(t)?this._incrementParentFormCounter(t):(this._storeFormHandlerFunction(t),this._initializeFormCounterToOne(t))}this.parentForm=t}return this.parentForm}_getFormAutoNumericChildren(e){const t=[...e.elements],i=this._getContenteditableElements(e);return s.arrayUnique(t,i).filter(n=>this.constructor.isManagedByAutoNumeric(n))}_getContenteditableElements(e){if(s.isUndefinedOrNullOrEmpty(e)||!e.hasAttribute("id"))return[];const t=[...e.querySelectorAll("[contenteditable=true]")],i=[...document.querySelectorAll(`*:not(input)[form=${e.getAttribute("id")}][contenteditable=true]`)];return s.arrayUnique(t,i)}_getParentForm(){if(!s.isUndefined(this.domElement.form))return this.domElement.form;if(this.domElement.tagName.toLowerCase()==="body")return null;let e=this.domElement,t;do{if(e=e.parentNode,s.isNull(e))return null;if(e.tagName?t=e.tagName.toLowerCase():t="",t==="body")break}while(t!=="form");return t==="form"?e:null}formNumericString(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}formFormatted(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}formLocalized(e=null){let t;return s.isNull(e)?t=this.settings.outputFormat:t=e,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,t)}formArrayNumericString(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}formArrayFormatted(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}formArrayLocalized(e=null){let t;return s.isNull(e)?t=this.settings.outputFormat:t=e,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,t)}formJsonNumericString(){return JSON.stringify(this.formArrayNumericString())}formJsonFormatted(){return JSON.stringify(this.formArrayFormatted())}formJsonLocalized(e=null){return JSON.stringify(this.formArrayLocalized(e))}formUnformat(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{a.getAutoNumericElement(t).unformat()}),this}formUnformatLocalized(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{a.getAutoNumericElement(t).unformatLocalized()}),this}formReformat(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{a.getAutoNumericElement(t).reformat()}),this}formSubmitNumericString(e=null){return s.isNull(e)?(this.formUnformat(),this.form().submit(),this.formReformat()):s.isFunction(e)?e(this.formNumericString()):s.throwError("The given callback is not a function."),this}formSubmitFormatted(e=null){return s.isNull(e)?this.form().submit():s.isFunction(e)?e(this.formFormatted()):s.throwError("The given callback is not a function."),this}formSubmitLocalized(e=null,t=null){return s.isNull(t)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):s.isFunction(t)?t(this.formLocalized(e)):s.throwError("The given callback is not a function."),this}formSubmitArrayNumericString(e){return s.isFunction(e)?e(this.formArrayNumericString()):s.throwError("The given callback is not a function."),this}formSubmitArrayFormatted(e){return s.isFunction(e)?e(this.formArrayFormatted()):s.throwError("The given callback is not a function."),this}formSubmitArrayLocalized(e,t=null){return s.isFunction(e)?e(this.formArrayLocalized(t)):s.throwError("The given callback is not a function."),this}formSubmitJsonNumericString(e){return s.isFunction(e)?e(this.formJsonNumericString()):s.throwError("The given callback is not a function."),this}formSubmitJsonFormatted(e){return s.isFunction(e)?e(this.formJsonFormatted()):s.throwError("The given callback is not a function."),this}formSubmitJsonLocalized(e,t=null){return s.isFunction(e)?e(this.formJsonLocalized(t)):s.throwError("The given callback is not a function."),this}static _unformatAltHovered(e){e.hoveredWithAlt=!0,e.unformat()}static _reformatAltHovered(e){e.hoveredWithAlt=!1,e.reformat()}static _getChildANInputElement(e){const t=e.getElementsByTagName("input"),i=[];return Array.prototype.slice.call(t,0).forEach(n=>{this.test(n)&&i.push(n)}),i}static test(e){return this._isInGlobalList(s.domElement(e))}static _createWeakMap(e){window[e]=new WeakMap}static _createGlobalList(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}static _doesGlobalListExists(){const e=typeof window[this.autoNumericGlobalListName];return e!=="undefined"&&e==="object"}static _addToGlobalList(e){this._doesGlobalListExists()||this._createGlobalList();const t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;s.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}static _removeFromGlobalList(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}static _getFromGlobalList(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}static _isInGlobalList(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].has(e):!1}_createLocalList(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}_deleteLocalList(){delete this.autoNumericLocalList}_setLocalList(e){this.autoNumericLocalList=e}_getLocalList(){return this.autoNumericLocalList}_hasLocalList(){return this.autoNumericLocalList instanceof Map&&this.autoNumericLocalList.size!==0}_addToLocalList(e,t=null){s.isNull(t)&&(t=this),s.isUndefined(this.autoNumericLocalList)?s.throwError(`The local list provided does not exists when trying to add an element. [${this.autoNumericLocalList}] given.`):this.autoNumericLocalList.set(e,t)}_removeFromLocalList(e){s.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&s.throwError(`The local list provided does not exists when trying to remove an element. [${this.autoNumericLocalList}] given.`):this.autoNumericLocalList.delete(e)}_mergeSettings(...e){Object.assign(this.settings,...e)}_cloneAndMergeSettings(...e){const t={};return Object.assign(t,this.settings,...e),t}static validate(e,t=!0,i=null){(s.isUndefinedOrNullOrEmpty(e)||!s.isObject(e))&&s.throwError(`The userOptions are invalid ; it should be a valid object, [${e}] given.`);const r=s.isObject(i);!r&&!s.isNull(i)&&s.throwError(`The 'originalOptions' parameter is invalid ; it should either be a valid option object or \`null\`, [${e}] given.`),s.isNull(e)||this._convertOldOptionsToNewOnes(e);let n;t?n=Object.assign({},this.getDefaultConfig(),e):n=e,!s.isTrueOrFalseString(n.showWarnings)&&!s.isBoolean(n.showWarnings)&&s.throwError(`The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [${n.showWarnings}] given.`);const l=/^[0-9]+$/,o=/[0-9]+/,c=/^-?[0-9]+(\.?[0-9]+)?$/,u=/^[0-9]+(\.?[0-9]+)?$/;!s.isTrueOrFalseString(n.allowDecimalPadding)&&!s.isBoolean(n.allowDecimalPadding)&&n.allowDecimalPadding!==a.options.allowDecimalPadding.floats&&!(s.isNumber(n.allowDecimalPadding)&&n.allowDecimalPadding>0)&&s.throwError(`The decimal padding option 'allowDecimalPadding' is invalid ; it should either be \`false\`, \`true\`, \`'floats'\` or a positive integer superior to 0, [${n.allowDecimalPadding}] given.`),s.isNumber(n.allowDecimalPadding)&&n.allowDecimalPadding>n.decimalPlaces&&s.warning(`Setting 'allowDecimalPadding' to a number [${n.allowDecimalPadding}] superior to the current 'decimalPlaces' settings [${n.decimalPlaces}] is useless, since the padding will not be shown.`,n.showWarnings),(n.allowDecimalPadding===a.options.allowDecimalPadding.never||n.allowDecimalPadding==="false")&&(n.decimalPlaces!==a.options.decimalPlaces.none||n.decimalPlacesShownOnBlur!==a.options.decimalPlacesShownOnBlur.none||n.decimalPlacesShownOnFocus!==a.options.decimalPlacesShownOnFocus.none)&&s.warning(`Setting 'allowDecimalPadding' to [${n.allowDecimalPadding}] will override the current 'decimalPlaces*' settings [${n.decimalPlaces}, ${n.decimalPlacesShownOnBlur} and ${n.decimalPlacesShownOnFocus}].`,n.showWarnings),!s.isTrueOrFalseString(n.alwaysAllowDecimalCharacter)&&!s.isBoolean(n.alwaysAllowDecimalCharacter)&&s.throwError(`The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be \`true\` or \`false\`, [${n.alwaysAllowDecimalCharacter}] given.`),!s.isNull(n.caretPositionOnFocus)&&!s.isInArray(n.caretPositionOnFocus,[a.options.caretPositionOnFocus.start,a.options.caretPositionOnFocus.end,a.options.caretPositionOnFocus.decimalLeft,a.options.caretPositionOnFocus.decimalRight])&&s.throwError(`The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be \`null\`, 'focus', 'press', 'always' or 'zero', [${n.caretPositionOnFocus}] given.`);let m;r?m=i:m=this._correctCaretPositionOnFocusAndSelectOnFocusOptions(e),!s.isNull(m)&&m.caretPositionOnFocus!==a.options.caretPositionOnFocus.doNoForceCaretPosition&&m.selectOnFocus===a.options.selectOnFocus.select&&s.warning(`The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '${m.caretPositionOnFocus}'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'.`,n.showWarnings),s.isInArray(n.digitGroupSeparator,[a.options.digitGroupSeparator.comma,a.options.digitGroupSeparator.dot,a.options.digitGroupSeparator.normalSpace,a.options.digitGroupSeparator.thinSpace,a.options.digitGroupSeparator.narrowNoBreakSpace,a.options.digitGroupSeparator.noBreakSpace,a.options.digitGroupSeparator.noSeparator,a.options.digitGroupSeparator.apostrophe,a.options.digitGroupSeparator.arabicThousandsSeparator,a.options.digitGroupSeparator.dotAbove,a.options.digitGroupSeparator.privateUseTwo])||s.throwError(`The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '٬', '˙', "'", '', ' ', ' ', ' ', ' ' or empty (''), [${n.digitGroupSeparator}] given.`),!s.isTrueOrFalseString(n.showOnlyNumbersOnFocus)&&!s.isBoolean(n.showOnlyNumbersOnFocus)&&s.throwError(`The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [${n.showOnlyNumbersOnFocus}] given.`),!s.isInArray(n.digitalGroupSpacing,[a.options.digitalGroupSpacing.two,a.options.digitalGroupSpacing.twoThree,a.options.digitalGroupSpacing.twoScaled,a.options.digitalGroupSpacing.three,a.options.digitalGroupSpacing.four])&&!(n.digitalGroupSpacing>=2&&n.digitalGroupSpacing<=4)&&s.throwError(`The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2t', '2s', '3', or '4', [${n.digitalGroupSpacing}] given.`),s.isInArray(n.decimalCharacter,[a.options.decimalCharacter.comma,a.options.decimalCharacter.dot,a.options.decimalCharacter.middleDot,a.options.decimalCharacter.arabicDecimalSeparator,a.options.decimalCharacter.decimalSeparatorKeySymbol])||s.throwError(`The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '·', '⎖' or '٫', [${n.decimalCharacter}] given.`),n.decimalCharacter===n.digitGroupSeparator&&s.throwError(`autoNumeric will not function properly when the decimal character 'decimalCharacter' [${n.decimalCharacter}] and the thousand separator 'digitGroupSeparator' [${n.digitGroupSeparator}] are the same character.`),!s.isNull(n.decimalCharacterAlternative)&&!s.isString(n.decimalCharacterAlternative)&&s.throwError(`The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [${n.decimalCharacterAlternative}] given.`),n.currencySymbol!==""&&!s.isString(n.currencySymbol)&&s.throwError(`The currency symbol option 'currencySymbol' is invalid ; it should be a string, [${n.currencySymbol}] given.`),s.isInArray(n.currencySymbolPlacement,[a.options.currencySymbolPlacement.prefix,a.options.currencySymbolPlacement.suffix])||s.throwError(`The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [${n.currencySymbolPlacement}] given.`),s.isInArray(n.negativePositiveSignPlacement,[a.options.negativePositiveSignPlacement.prefix,a.options.negativePositiveSignPlacement.suffix,a.options.negativePositiveSignPlacement.left,a.options.negativePositiveSignPlacement.right,a.options.negativePositiveSignPlacement.none])||s.throwError(`The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [${n.negativePositiveSignPlacement}] given.`),!s.isTrueOrFalseString(n.showPositiveSign)&&!s.isBoolean(n.showPositiveSign)&&s.throwError(`The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [${n.showPositiveSign}] given.`),(!s.isString(n.suffixText)||n.suffixText!==""&&(s.isNegative(n.suffixText,n.negativeSignCharacter)||o.test(n.suffixText)))&&s.throwError(`The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '${n.negativeSignCharacter}' nor any numerical characters, [${n.suffixText}] given.`),(!s.isString(n.negativeSignCharacter)||n.negativeSignCharacter.length!==1||s.isUndefinedOrNullOrEmpty(n.negativeSignCharacter)||o.test(n.negativeSignCharacter))&&s.throwError(`The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [${n.negativeSignCharacter}] given.`),(!s.isString(n.positiveSignCharacter)||n.positiveSignCharacter.length!==1||s.isUndefinedOrNullOrEmpty(n.positiveSignCharacter)||o.test(n.positiveSignCharacter))&&s.throwError(`The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [${n.positiveSignCharacter}] given.
If you want to show the positive sign character, you need to set the \`showPositiveSign\` option to \`true\`.`),n.negativeSignCharacter===n.positiveSignCharacter&&s.throwError(`The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [${n.negativeSignCharacter}] given.`),!s.isTrueOrFalseString(n.negativePositiveSignBehavior)&&!s.isBoolean(n.negativePositiveSignBehavior)&&s.throwError(`The option 'negativePositiveSignBehavior' is invalid ; it should be either 'true' or 'false', [${n.negativePositiveSignBehavior}] given.`);const[g,f]=s.isNull(n.negativeBracketsTypeOnBlur)?["",""]:n.negativeBracketsTypeOnBlur.split(",");(s.contains(n.digitGroupSeparator,n.negativeSignCharacter)||s.contains(n.decimalCharacter,n.negativeSignCharacter)||s.contains(n.decimalCharacterAlternative,n.negativeSignCharacter)||s.contains(g,n.negativeSignCharacter)||s.contains(f,n.negativeSignCharacter)||s.contains(n.suffixText,n.negativeSignCharacter))&&s.throwError(`The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [${n.negativeSignCharacter}] given.`),(s.contains(n.digitGroupSeparator,n.positiveSignCharacter)||s.contains(n.decimalCharacter,n.positiveSignCharacter)||s.contains(n.decimalCharacterAlternative,n.positiveSignCharacter)||s.contains(g,n.positiveSignCharacter)||s.contains(f,n.positiveSignCharacter)||s.contains(n.suffixText,n.positiveSignCharacter))&&s.throwError(`The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [${n.positiveSignCharacter}] given.`),!s.isNull(n.overrideMinMaxLimits)&&!s.isInArray(n.overrideMinMaxLimits,[a.options.overrideMinMaxLimits.ceiling,a.options.overrideMinMaxLimits.floor,a.options.overrideMinMaxLimits.ignore,a.options.overrideMinMaxLimits.invalid])&&s.throwError(`The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [${n.overrideMinMaxLimits}] given.`),n.overrideMinMaxLimits!==a.options.overrideMinMaxLimits.invalid&&n.overrideMinMaxLimits!==a.options.overrideMinMaxLimits.ignore&&(n.minimumValue>0||n.maximumValue<0)&&s.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (i.e. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),(!s.isString(n.maximumValue)||!c.test(n.maximumValue))&&s.throwError(`The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [${n.maximumValue}] given.`),(!s.isString(n.minimumValue)||!c.test(n.minimumValue))&&s.throwError(`The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [${n.minimumValue}] given.`),parseFloat(n.minimumValue)>parseFloat(n.maximumValue)&&s.throwError(`The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [${n.minimumValue}] should be smaller than 'maximumValue' [${n.maximumValue}].`),s.isInt(n.decimalPlaces)&&n.decimalPlaces>=0||s.isString(n.decimalPlaces)&&l.test(n.decimalPlaces)||s.throwError(`The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [${n.decimalPlaces}] given.`),s.isNull(n.decimalPlacesRawValue)||s.isInt(n.decimalPlacesRawValue)&&n.decimalPlacesRawValue>=0||s.isString(n.decimalPlacesRawValue)&&l.test(n.decimalPlacesRawValue)||s.throwError(`The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesRawValue}] given.`),this._validateDecimalPlacesRawValue(n),!s.isNull(n.decimalPlacesShownOnFocus)&&!l.test(String(n.decimalPlacesShownOnFocus))&&s.throwError(`The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesShownOnFocus}] given.`),!s.isNull(n.decimalPlacesShownOnFocus)&&Number(n.decimalPlaces)>Number(n.decimalPlacesShownOnFocus)&&s.warning(`The extended decimal places 'decimalPlacesShownOnFocus' [${n.decimalPlacesShownOnFocus}] should be greater than the 'decimalPlaces' [${n.decimalPlaces}] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?`,n.showWarnings),(!s.isNull(n.divisorWhenUnfocused)&&!u.test(n.divisorWhenUnfocused)||n.divisorWhenUnfocused===0||n.divisorWhenUnfocused==="0"||n.divisorWhenUnfocused===1||n.divisorWhenUnfocused==="1")&&s.throwError(`The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [${n.divisorWhenUnfocused}] given.`),!s.isNull(n.decimalPlacesShownOnBlur)&&!l.test(n.decimalPlacesShownOnBlur)&&s.throwError(`The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesShownOnBlur}] given.`),!s.isNull(n.symbolWhenUnfocused)&&!s.isString(n.symbolWhenUnfocused)&&s.throwError(`The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [${n.symbolWhenUnfocused}] given.`),!s.isTrueOrFalseString(n.saveValueToSessionStorage)&&!s.isBoolean(n.saveValueToSessionStorage)&&s.throwError(`The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [${n.saveValueToSessionStorage}] given.`),s.isInArray(n.onInvalidPaste,[a.options.onInvalidPaste.error,a.options.onInvalidPaste.ignore,a.options.onInvalidPaste.clamp,a.options.onInvalidPaste.truncate,a.options.onInvalidPaste.replace])||s.throwError(`The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [${n.onInvalidPaste}] given.`),s.isInArray(n.roundingMethod,[a.options.roundingMethod.halfUpSymmetric,a.options.roundingMethod.halfUpAsymmetric,a.options.roundingMethod.halfDownSymmetric,a.options.roundingMethod.halfDownAsymmetric,a.options.roundingMethod.halfEvenBankersRounding,a.options.roundingMethod.upRoundAwayFromZero,a.options.roundingMethod.downRoundTowardZero,a.options.roundingMethod.toCeilingTowardPositiveInfinity,a.options.roundingMethod.toFloorTowardNegativeInfinity,a.options.roundingMethod.toNearest05,a.options.roundingMethod.toNearest05Alt,a.options.roundingMethod.upToNext05,a.options.roundingMethod.downToNext05])||s.throwError(`The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [${n.roundingMethod}] given.`),!s.isNull(n.negativeBracketsTypeOnBlur)&&!s.isInArray(n.negativeBracketsTypeOnBlur,[a.options.negativeBracketsTypeOnBlur.parentheses,a.options.negativeBracketsTypeOnBlur.brackets,a.options.negativeBracketsTypeOnBlur.chevrons,a.options.negativeBracketsTypeOnBlur.curlyBraces,a.options.negativeBracketsTypeOnBlur.angleBrackets,a.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,a.options.negativeBracketsTypeOnBlur.halfBrackets,a.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,a.options.negativeBracketsTypeOnBlur.quotationMarks,a.options.negativeBracketsTypeOnBlur.guillemets])&&s.throwError(`The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', '〈,〉', '｢,｣', '⸤,⸥', '⟦,⟧', '‹,›' or '«,»', [${n.negativeBracketsTypeOnBlur}] given.`),(!(s.isString(n.emptyInputBehavior)||s.isNumber(n.emptyInputBehavior))||!(s.isInArray(n.emptyInputBehavior,[a.options.emptyInputBehavior.focus,a.options.emptyInputBehavior.press,a.options.emptyInputBehavior.always,a.options.emptyInputBehavior.min,a.options.emptyInputBehavior.max,a.options.emptyInputBehavior.zero,a.options.emptyInputBehavior.null])||c.test(n.emptyInputBehavior)))&&s.throwError(`The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [${n.emptyInputBehavior}] given.`),n.emptyInputBehavior===a.options.emptyInputBehavior.zero&&(n.minimumValue>0||n.maximumValue<0)&&s.throwError(`The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [${n.minimumValue}, ${n.maximumValue}].`),c.test(String(n.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(n.emptyInputBehavior,n)||s.throwError(`The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [${n.emptyInputBehavior}] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [${n.minimumValue}, ${n.maximumValue}].`)),!s.isTrueOrFalseString(n.eventBubbles)&&!s.isBoolean(n.eventBubbles)&&s.throwError(`The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [${n.eventBubbles}] given.`),!s.isTrueOrFalseString(n.eventIsCancelable)&&!s.isBoolean(n.eventIsCancelable)&&s.throwError(`The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [${n.eventIsCancelable}] given.`),(s.isBoolean(n.invalidClass)||!/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(n.invalidClass))&&s.throwError(`The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [${n.invalidClass}] given.`),s.isInArray(n.leadingZero,[a.options.leadingZero.allow,a.options.leadingZero.deny,a.options.leadingZero.keep])||s.throwError(`The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [${n.leadingZero}] given.`),!s.isTrueOrFalseString(n.formatOnPageLoad)&&!s.isBoolean(n.formatOnPageLoad)&&s.throwError(`The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [${n.formatOnPageLoad}] given.`),!s.isTrueOrFalseString(n.formulaMode)&&!s.isBoolean(n.formulaMode)&&s.throwError(`The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [${n.formulaMode}] given.`),(!l.test(n.historySize)||n.historySize===0)&&s.throwError(`The history size option 'historySize' is invalid ; it should be a positive integer, [${n.historySize}] given.`),!s.isTrueOrFalseString(n.selectNumberOnly)&&!s.isBoolean(n.selectNumberOnly)&&s.throwError(`The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [${n.selectNumberOnly}] given.`),!s.isTrueOrFalseString(n.selectOnFocus)&&!s.isBoolean(n.selectOnFocus)&&s.throwError(`The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [${n.selectOnFocus}] given.`),!s.isNull(n.defaultValueOverride)&&n.defaultValueOverride!==""&&!c.test(n.defaultValueOverride)&&s.throwError(`The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [${n.defaultValueOverride}] given.`),!s.isTrueOrFalseString(n.unformatOnSubmit)&&!s.isBoolean(n.unformatOnSubmit)&&s.throwError(`The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [${n.unformatOnSubmit}] given.`),!s.isNull(n.valuesToStrings)&&!s.isObject(n.valuesToStrings)&&s.throwError(`The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [${n.valuesToStrings}] given.`),!s.isNull(n.outputFormat)&&!s.isInArray(n.outputFormat,[a.options.outputFormat.string,a.options.outputFormat.number,a.options.outputFormat.dot,a.options.outputFormat.negativeDot,a.options.outputFormat.comma,a.options.outputFormat.negativeComma,a.options.outputFormat.dotNegative,a.options.outputFormat.commaNegative])&&s.throwError(`The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [${n.outputFormat}] given.`),!s.isTrueOrFalseString(n.isCancellable)&&!s.isBoolean(n.isCancellable)&&s.throwError(`The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [${n.isCancellable}] given.`),!s.isTrueOrFalseString(n.modifyValueOnUpDownArrow)&&!s.isBoolean(n.modifyValueOnUpDownArrow)&&s.throwError(`The increment/decrement on up and down arrow keys 'modifyValueOnUpDownArrow' is invalid ; it should be either 'true' or 'false', [${n.modifyValueOnUpDownArrow}] given.`),!s.isTrueOrFalseString(n.modifyValueOnWheel)&&!s.isBoolean(n.modifyValueOnWheel)&&s.throwError(`The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [${n.modifyValueOnWheel}] given.`),!s.isTrueOrFalseString(n.watchExternalChanges)&&!s.isBoolean(n.watchExternalChanges)&&s.throwError(`The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [${n.watchExternalChanges}] given.`),s.isInArray(n.wheelOn,[a.options.wheelOn.focus,a.options.wheelOn.hover])||s.throwError(`The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [${n.wheelOn}] given.`),(!(s.isString(n.upDownStep)||s.isNumber(n.upDownStep))||n.upDownStep!=="progressive"&&!u.test(n.upDownStep)||Number(n.upDownStep)===0)&&s.throwError(`The up/down arrow step value option 'upDownStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [${n.upDownStep}] given.`),(!(s.isString(n.wheelStep)||s.isNumber(n.wheelStep))||n.wheelStep!=="progressive"&&!u.test(n.wheelStep)||Number(n.wheelStep)===0)&&s.throwError(`The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [${n.wheelStep}] given.`),s.isInArray(n.serializeSpaces,[a.options.serializeSpaces.plus,a.options.serializeSpaces.percent])||s.throwError(`The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [${n.serializeSpaces}] given.`),!s.isTrueOrFalseString(n.noEventListeners)&&!s.isBoolean(n.noEventListeners)&&s.throwError(`The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [${n.noEventListeners}] given.`),!s.isNull(n.styleRules)&&!(s.isObject(n.styleRules)&&(Object.prototype.hasOwnProperty.call(n.styleRules,"positive")||Object.prototype.hasOwnProperty.call(n.styleRules,"negative")||Object.prototype.hasOwnProperty.call(n.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(n.styleRules,"userDefined")))&&s.throwError(`The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [${n.styleRules}] given.`),!s.isNull(n.styleRules)&&Object.prototype.hasOwnProperty.call(n.styleRules,"userDefined")&&!s.isNull(n.styleRules.userDefined)&&n.styleRules.userDefined.forEach(v=>{Object.prototype.hasOwnProperty.call(v,"callback")&&!s.isFunction(v.callback)&&s.throwError(`The callback defined in the \`userDefined\` attribute is not a function, ${typeof v.callback} given.`)}),(!s.isNull(n.rawValueDivisor)&&!u.test(n.rawValueDivisor)||n.rawValueDivisor===0||n.rawValueDivisor==="0"||n.rawValueDivisor===1||n.rawValueDivisor==="1")&&s.throwError(`The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [${n.rawValueDivisor}] given.`),!s.isTrueOrFalseString(n.readOnly)&&!s.isBoolean(n.readOnly)&&s.throwError(`The option 'readOnly' is invalid ; it should be either 'true' or 'false', [${n.readOnly}] given.`),!s.isTrueOrFalseString(n.unformatOnHover)&&!s.isBoolean(n.unformatOnHover)&&s.throwError(`The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [${n.unformatOnHover}] given.`),!s.isTrueOrFalseString(n.failOnUnknownOption)&&!s.isBoolean(n.failOnUnknownOption)&&s.throwError(`The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [${n.failOnUnknownOption}] given.`),!s.isTrueOrFalseString(n.createLocalList)&&!s.isBoolean(n.createLocalList)&&s.throwError(`The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [${n.createLocalList}] given.`)}static _validateDecimalPlacesRawValue(e){s.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&s.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones to display [${e.decimalPlaces}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlaces\`.`,e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&s.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones shown on focus [${e.decimalPlacesShownOnFocus}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlacesShownOnFocus\`.`,e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&s.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones shown when unfocused [${e.decimalPlacesShownOnBlur}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlacesShownOnBlur\`.`,e.showWarnings))}static areSettingsValid(e){let t=!0;try{this.validate(e,!0)}catch{t=!1}return t}static getDefaultConfig(){return a.defaultSettings}static getPredefinedOptions(){return a.predefinedOptions}static _generateOptionsObjectFromOptionsArray(e){let t;return s.isUndefinedOrNullOrEmpty(e)||e.length===0?t=null:(t={},e.length===1&&Array.isArray(e[0])?e[0].forEach(i=>{Object.assign(t,this._getOptionObject(i))}):e.length>=1&&e.forEach(i=>{Object.assign(t,this._getOptionObject(i))})),t}static format(e,...t){if(s.isUndefined(e)||e===null)return null;let i;s.isElement(e)?i=s.getElementValue(e):i=e,!s.isString(i)&&!s.isNumber(i)&&s.throwError(`The value "${i}" being "set" is not numeric and therefore cannot be used appropriately.`);const r=this._generateOptionsObjectFromOptionsArray(t),n=Object.assign({},this.getDefaultConfig(),r);n.isNegativeSignAllowed=i<0,n.isPositiveSignAllowed=i>=0,this._setBrackets(n);const l={};this._cachesUsualRegularExpressions(n,l);let o=this._toNumericValue(i,n);return isNaN(Number(o))&&s.throwError(`The value [${o}] that you are trying to format is not a recognized number.`),this._isWithinRangeWithOverrideOption(o,n)||(s.triggerEvent(a.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),s.throwError(`The value [${o}] being set falls outside of the minimumValue [${n.minimumValue}] and maximumValue [${n.maximumValue}] range set for this element`)),n.valuesToStrings&&this._checkValuesToStringsSettings(i,n)?n.valuesToStrings[i]:(this._correctNegativePositiveSignPlacementOption(n),this._calculateDecimalPlacesOnInit(n),!s.isUndefinedOrNullOrEmpty(n.rawValueDivisor)&&n.rawValueDivisor!==0&&o!==""&&o!==null&&(o*=n.rawValueDivisor),o=this._roundFormattedValueShownOnFocus(o,n),o=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(o,n),o=this._addGroupSeparators(o,n,!1,o),o)}static formatAndSet(e,t=null){const i=this.format(e,t);return s.setElementValue(e,i),i}static unformat(e,...t){if(s.isNumberStrict(e))return e;let i;if(s.isElement(e)?i=s.getElementValue(e):i=e,i==="")return"";if(s.isUndefined(i)||i===null)return null;(s.isArray(i)||s.isObject(i))&&s.throwError(`A number or a string representing a number is needed to be able to unformat it, [${i}] given.`);const r=this._generateOptionsObjectFromOptionsArray(t),n=Object.assign({},this.getDefaultConfig(),r);return n.isNegativeSignAllowed=!1,n.isPositiveSignAllowed=!0,i=i.toString(),n.valuesToStrings&&this._checkStringsToValuesSettings(i,n)?s.objectKeyLookup(n.valuesToStrings,i):(s.isNegative(i,n.negativeSignCharacter)?(n.isNegativeSignAllowed=!0,n.isPositiveSignAllowed=!1):s.isNull(n.negativeBracketsTypeOnBlur)||([n.firstBracket,n.lastBracket]=n.negativeBracketsTypeOnBlur.split(","),i.charAt(0)===n.firstBracket&&i.charAt(i.length-1)===n.lastBracket&&(n.isNegativeSignAllowed=!0,n.isPositiveSignAllowed=!1,i=this._removeBrackets(i,n,!1))),i=this._convertToNumericString(i,n),s.isNumber(Number(i))&&(i=s.scientificToDecimal(i)),new RegExp("[^+-0123456789.]","gi").test(i)?NaN:(this._correctNegativePositiveSignPlacementOption(n),n.decimalPlacesRawValue?n.originalDecimalPlacesRawValue=n.decimalPlacesRawValue:n.originalDecimalPlacesRawValue=n.decimalPlaces,this._calculateDecimalPlacesOnInit(n),!s.isUndefinedOrNullOrEmpty(n.rawValueDivisor)&&n.rawValueDivisor!==0&&i!==""&&i!==null&&(i/=n.rawValueDivisor),i=this._roundRawValue(i,n),i=i.replace(n.decimalCharacter,"."),i=this._toLocale(i,n.outputFormat,n),i))}static unformatAndSet(e,t=null){const i=this.unformat(e,t);return s.setElementValue(e,i),i}static localize(e,t=null){let i;if(s.isElement(e)?i=s.getElementValue(e):i=e,i==="")return"";s.isNull(t)&&(t=a.defaultSettings),i=this.unformat(i,t),Number(i)===0&&t.leadingZero!==a.options.leadingZero.keep&&(i="0");let r;return s.isNull(t)?r=t.outputFormat:r=a.defaultSettings.outputFormat,this._toLocale(i,r,t)}static localizeAndSet(e,t=null){const i=this.localize(e,t);return s.setElementValue(e,i),i}static isManagedByAutoNumeric(e){return this._isInGlobalList(s.domElement(e))}static getAutoNumericElement(e){const t=s.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}static set(e,t,i=null,r=!0){const n=s.domElement(e);if(!this.isManagedByAutoNumeric(n)){let l;return!s.isNull(i)&&Object.prototype.hasOwnProperty.call(i,"showWarnings")?l=i.showWarnings:l=!0,s.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",l),null}return this.getAutoNumericElement(n).set(t,i,r)}static getNumericString(e,t=null){return this._get(e,"getNumericString",t)}static getFormatted(e,t=null){return this._get(e,"getFormatted",t)}static getNumber(e,t=null){return this._get(e,"getNumber",t)}static _get(e,t,i=null){const r=s.domElement(e);return this.isManagedByAutoNumeric(r)||s.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(r)[t](i)}static getLocalized(e,t=null,i=null){const r=s.domElement(e);return this.isManagedByAutoNumeric(r)||s.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(r).getLocalized(t,i)}_updatePredefinedOptions(e,t=null){return s.isNull(t)?this.update(e):(this._mergeSettings(e,t),this.update(this.settings)),this}french(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().French,e),this}northAmerican(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().NorthAmerican,e),this}british(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().British,e),this}swiss(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().Swiss,e),this}japanese(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().Japanese,e),this}spanish(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().Spanish,e),this}chinese(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().Chinese,e),this}brazilian(e=null){return this._updatePredefinedOptions(a.getPredefinedOptions().Brazilian,e),this}_runCallbacksFoundInTheSettingsObject(){for(const e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){const t=this.settings[e];if(typeof t=="function")this.settings[e]=t(this,e);else{let i="";e in this.domElement.dataset&&(i=this.domElement.dataset[e]),i=s.camelize(i),typeof this.settings[i]=="function"&&(this.settings[e]=i(this,e))}}}_setTrailingNegativeSignInfo(){this.isTrailingNegative=this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.right)}static _stripAllNonNumberCharacters(e,t,i,r){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,i,r).replace(t.decimalCharacter,".")}static _stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,i,r){e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t),e=e.replace(t.allowedAutoStrip,"");const n=e.match(t.numRegAutoStrip);if(e=n?[n[1],n[2],n[3]].join(""):"",t.leadingZero===a.options.leadingZero.allow||t.leadingZero===a.options.leadingZero.keep){let l="";const[o,c]=e.split(t.decimalCharacter);let u=o;s.contains(u,t.negativeSignCharacter)&&(l=t.negativeSignCharacter,u=u.replace(t.negativeSignCharacter,"")),l===""&&u.length>t.mIntPos&&u.charAt(0)==="0"&&(u=u.slice(1)),l!==""&&u.length>t.mIntNeg&&u.charAt(0)==="0"&&(u=u.slice(1)),e=`${l}${u}${s.isUndefined(c)?"":t.decimalCharacter+c}`}return(i&&t.leadingZero===a.options.leadingZero.deny||!r&&t.leadingZero===a.options.leadingZero.allow)&&(e=e.replace(t.stripReg,"$1$2")),e}static _toggleNegativeBracket(e,t,i){let r;return i?r=this._removeBrackets(e,t):r=this._addBrackets(e,t),r}static _addBrackets(e,t){return s.isNull(t.negativeBracketsTypeOnBlur)?e:`${t.firstBracket}${e.replace(t.negativeSignCharacter,"")}${t.lastBracket}`}static _removeBrackets(e,t,i=!0){let r;return!s.isNull(t.negativeBracketsTypeOnBlur)&&e.charAt(0)===t.firstBracket?(r=e.replace(t.firstBracket,""),r=r.replace(t.lastBracket,""),i?(r=r.replace(t.currencySymbol,""),r=this._mergeCurrencySignNegativePositiveSignAndValue(r,t,!0,!1)):r=`${t.negativeSignCharacter}${r}`):r=e,r}static _setBrackets(e){if(s.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{const[t,i]=e.negativeBracketsTypeOnBlur.split(",");e.firstBracket=t,e.lastBracket=i}}static _convertToNumericString(e,t){e=this._removeBrackets(e,t,!1),e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t),e=e.replace(new RegExp(`[${t.digitGroupSeparator}]`,"g"),""),t.decimalCharacter!=="."&&(e=e.replace(t.decimalCharacter,".")),s.isNegative(e)&&e.lastIndexOf("-")===e.length-1&&(e=e.replace("-",""),e=`-${e}`),t.showPositiveSign&&(e=e.replace(t.positiveSignCharacter,""));const i=t.leadingZero!==a.options.leadingZero.keep,r=s.arabicToLatinNumbers(e,i,!1,!1);return isNaN(r)||(e=r.toString()),e}static _normalizeCurrencySuffixAndNegativeSignCharacters(e,t){return e=String(e),t.currencySymbol!==a.options.currencySymbol.none&&(e=e.replace(t.currencySymbol,"")),t.suffixText!==a.options.suffixText.none&&(e=e.replace(t.suffixText,"")),t.negativeSignCharacter!==a.options.negativeSignCharacter.hyphen&&(e=e.replace(t.negativeSignCharacter,"-")),e}static _toLocale(e,t,i){if(s.isNull(t)||t===a.options.outputFormat.string)return e;let r;switch(t){case a.options.outputFormat.number:r=Number(e);break;case a.options.outputFormat.dotNegative:r=s.isNegative(e)?e.replace("-","")+"-":e;break;case a.options.outputFormat.comma:case a.options.outputFormat.negativeComma:r=e.replace(".",",");break;case a.options.outputFormat.commaNegative:r=e.replace(".",","),r=s.isNegative(r)?r.replace("-","")+"-":r;break;case a.options.outputFormat.dot:case a.options.outputFormat.negativeDot:r=e;break;default:s.throwError(`The given outputFormat [${t}] option is not recognized.`)}return t!==a.options.outputFormat.number&&i.negativeSignCharacter!=="-"&&(r=r.replace("-",i.negativeSignCharacter)),r}_modifyNegativeSignAndDecimalCharacterForRawValue(e){return this.settings.decimalCharacter!=="."&&(e=e.replace(this.settings.decimalCharacter,".")),this.settings.negativeSignCharacter!=="-"&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}static _modifyNegativeSignAndDecimalCharacterForFormattedValue(e,t){return t.negativeSignCharacter!=="-"&&(e=e.replace("-",t.negativeSignCharacter)),t.decimalCharacter!=="."&&(e=e.replace(".",t.decimalCharacter)),e}static _isElementValueEmptyOrOnlyTheNegativeSign(e,t){return e===""||e===t.negativeSignCharacter}static _orderValueCurrencySymbolAndSuffixText(e,t,i){let r;if(t.emptyInputBehavior===a.options.emptyInputBehavior.always||i)switch(t.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.left:case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.none:r=e+t.currencySymbol+t.suffixText;break;default:r=t.currencySymbol+e+t.suffixText}else r=e;return r}static _addGroupSeparators(e,t,i,r,n=null){let l;if(s.isNull(n)?l=s.isNegative(e,t.negativeSignCharacter)||s.isNegativeWithBrackets(e,t.firstBracket,t.lastBracket):l=n<0,e=this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,!1,i),this._isElementValueEmptyOrOnlyTheNegativeSign(e,t))return this._orderValueCurrencySymbolAndSuffixText(e,t,!0);const o=s.isZeroOrHasNoValue(e);l&&(e=e.replace("-",""));let[c,u]=e.split(t.decimalCharacter);if(t.decimalCharacterAlternative&&s.isUndefined(u)&&([c,u]=e.split(t.decimalCharacterAlternative)),t.digitGroupSeparator!==""){t.digitalGroupSpacing=t.digitalGroupSpacing.toString();let f;switch(t.digitalGroupSpacing){case a.options.digitalGroupSpacing.twoThree:f=/(\d)((\d)(\d{2}?)+)$/;break;case a.options.digitalGroupSpacing.twoScaled:f=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case a.options.digitalGroupSpacing.two:case a.options.digitalGroupSpacing.three:case a.options.digitalGroupSpacing.four:default:f=new RegExp(`(\\d)((\\d{${t.digitalGroupSpacing}}?)+)$`)}for(;f.test(c);)c=c.replace(f,`$1${t.digitGroupSeparator}$2`)}let m;i?m=t.decimalPlacesShownOnFocus:m=t.decimalPlacesShownOnBlur,m!==0&&!s.isUndefined(u)?(u.length>m&&(u=u.substring(0,m)),e=`${c}${t.decimalCharacter}${u}`):e=c,e=a._mergeCurrencySignNegativePositiveSignAndValue(e,t,l,o),s.isNull(n)&&(n=r),t.negativeBracketsTypeOnBlur!==null&&(n<0||s.isNegativeStrict(e,t.negativeSignCharacter))&&(e=this._toggleNegativeBracket(e,t,i));let g;return t.suffixText?g=`${e}${t.suffixText}`:g=e,g}static _mergeCurrencySignNegativePositiveSignAndValue(e,t,i,r){let n="";i?n=t.negativeSignCharacter:t.showPositiveSign&&!r&&(n=t.positiveSignCharacter);let l;if(t.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix)if(t.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!r))switch(t.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.left:l=`${n}${t.currencySymbol}${e}`;break;case a.options.negativePositiveSignPlacement.right:l=`${t.currencySymbol}${n}${e}`;break;case a.options.negativePositiveSignPlacement.suffix:l=`${t.currencySymbol}${e}${n}`;break}else l=t.currencySymbol+e;else if(t.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix)if(t.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!r))switch(t.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.suffix:case a.options.negativePositiveSignPlacement.right:l=`${e}${t.currencySymbol}${n}`;break;case a.options.negativePositiveSignPlacement.left:l=`${e}${n}${t.currencySymbol}`;break;case a.options.negativePositiveSignPlacement.prefix:l=`${n}${e}${t.currencySymbol}`;break}else l=e+t.currencySymbol;return l}_initialCaretPosition(e){s.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===a.options.selectOnFocus.doNotSelect&&s.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");const t=this.rawValue<0,i=s.isZeroOrHasNoValue(e),r=e.length;let n=0,l=0,o=!1,c=0;this.settings.caretPositionOnFocus!==a.options.caretPositionOnFocus.start&&(e=e.replace(this.settings.negativeSignCharacter,""),e=e.replace(this.settings.positiveSignCharacter,""),e=e.replace(this.settings.currencySymbol,""),n=e.length,o=s.contains(e,this.settings.decimalCharacter),(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalLeft||this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalRight)&&(o?(l=e.indexOf(this.settings.decimalCharacter),c=this.settings.decimalCharacter.length):(l=n,c=0)));let u="";t?u=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!i&&(u=this.settings.positiveSignCharacter);const m=u.length,g=this.settings.currencySymbol.length;let f;if(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.left:case a.options.negativePositiveSignPlacement.right:f=m+g;break;case a.options.negativePositiveSignPlacement.suffix:f=g;break}else f=g;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.left:case a.options.negativePositiveSignPlacement.right:f=r;break;case a.options.negativePositiveSignPlacement.suffix:f=g+n;break}else f=r;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.left:case a.options.negativePositiveSignPlacement.right:f=m+g+l;break;case a.options.negativePositiveSignPlacement.suffix:f=g+l;break}else f=g+l;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.prefix:case a.options.negativePositiveSignPlacement.left:case a.options.negativePositiveSignPlacement.right:f=m+g+l+c;break;case a.options.negativePositiveSignPlacement.suffix:f=g+l+c;break}else f=g+l+c}else if(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix){if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.suffix:case a.options.negativePositiveSignPlacement.right:case a.options.negativePositiveSignPlacement.left:f=0;break;case a.options.negativePositiveSignPlacement.prefix:f=m;break}else f=0;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.suffix:case a.options.negativePositiveSignPlacement.right:case a.options.negativePositiveSignPlacement.left:f=n;break;case a.options.negativePositiveSignPlacement.prefix:f=m+n;break}else f=n;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.suffix:case a.options.negativePositiveSignPlacement.right:case a.options.negativePositiveSignPlacement.left:f=l;break;case a.options.negativePositiveSignPlacement.prefix:f=m+l;break}else f=l;else if(this.settings.caretPositionOnFocus===a.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.suffix:case a.options.negativePositiveSignPlacement.right:case a.options.negativePositiveSignPlacement.left:f=l+c;break;case a.options.negativePositiveSignPlacement.prefix:f=m+l+c;break}else f=l+c}return f}static _truncateZeros(e,t){let i;switch(t){case 0:i=/(\.(?:\d*[1-9])?)0*$/;break;case 1:i=/(\.\d(?:\d*[1-9])?)0*$/;break;default:i=new RegExp(`(\\.\\d{${t}}(?:\\d*[1-9])?)0*`)}return e=e.replace(i,"$1"),t===0&&(e=e.replace(/\.$/,"")),e}static _roundRawValue(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}static _roundFormattedValueShownOnFocus(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}static _roundFormattedValueShownOnBlur(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}static _roundFormattedValueShownOnFocusOrBlur(e,t,i){return i?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}static _roundValue(e,t,i){if(s.isNull(e))return e;if(e=e===""?"0":e.toString(),t.roundingMethod===a.options.roundingMethod.toNearest05||t.roundingMethod===a.options.roundingMethod.toNearest05Alt||t.roundingMethod===a.options.roundingMethod.upToNext05||t.roundingMethod===a.options.roundingMethod.downToNext05)return this._roundCloseTo05(e,t);const[r,n]=a._prepareValueForRounding(e,t);e=n;const l=e.lastIndexOf("."),o=l===-1,[c,u]=e.split(".");if(!(u>0)&&(t.allowDecimalPadding===a.options.allowDecimalPadding.never||t.allowDecimalPadding===a.options.allowDecimalPadding.floats))return Number(e)===0?c:`${r}${c}`;let g;t.allowDecimalPadding===a.options.allowDecimalPadding.always||t.allowDecimalPadding===a.options.allowDecimalPadding.floats?g=i:t.allowDecimalPadding>0?g=t.allowDecimalPadding:g=0;const f=o?e.length-1:l;let v=e.length-1-f,p="";if(v<=i){if(p=e,v<g){o&&(p=`${p}${t.decimalCharacter}`);let S="000000";for(;v<g;)S=S.substring(0,g-v),p+=S,v+=S.length}else v>g?p=this._truncateZeros(p,g):v===0&&g===0&&(p=p.replace(/\.$/,""));return Number(p)===0?p:`${r}${p}`}let E;o?E=i-1:E=Number(i)+Number(l);const P=Number(e.charAt(E+1));let y=e.substring(0,E+1).split(""),w;if(e.charAt(E)==="."?w=e.charAt(E-1)%2:w=e.charAt(E)%2,this._shouldRoundUp(P,t,r,w)){for(let S=y.length-1;S>=0;S-=1)if(y[S]!=="."){if(y[S]=+y[S]+1,y[S]<10)break;S>0&&(y[S]="0")}}return y=y.slice(0,E+1),p=this._truncateZeros(y.join(""),g),Number(p)===0?p:`${r}${p}`}static _roundCloseTo05(e,t){switch(t.roundingMethod){case a.options.roundingMethod.toNearest05:case a.options.roundingMethod.toNearest05Alt:e=(Math.round(e*20)/20).toString();break;case a.options.roundingMethod.upToNext05:e=(Math.ceil(e*20)/20).toString();break;default:e=(Math.floor(e*20)/20).toString()}let i;return s.contains(e,".")?e.length-e.indexOf(".")<3?i=e+"0":i=e:i=e+".00",i}static _prepareValueForRounding(e,t){let i="";return s.isNegativeStrict(e,"-")&&(i="-",e=e.replace("-","")),e.match(/^\d/)||(e=`0${e}`),Number(e)===0&&(i=""),(Number(e)>0&&t.leadingZero!==a.options.leadingZero.keep||e.length>0&&t.leadingZero===a.options.leadingZero.allow)&&(e=e.replace(/^0*(\d)/,"$1")),[i,e]}static _shouldRoundUp(e,t,i,r){return e>4&&t.roundingMethod===a.options.roundingMethod.halfUpSymmetric||e>4&&t.roundingMethod===a.options.roundingMethod.halfUpAsymmetric&&i===""||e>5&&t.roundingMethod===a.options.roundingMethod.halfUpAsymmetric&&i==="-"||e>5&&t.roundingMethod===a.options.roundingMethod.halfDownSymmetric||e>5&&t.roundingMethod===a.options.roundingMethod.halfDownAsymmetric&&i===""||e>4&&t.roundingMethod===a.options.roundingMethod.halfDownAsymmetric&&i==="-"||e>5&&t.roundingMethod===a.options.roundingMethod.halfEvenBankersRounding||e===5&&t.roundingMethod===a.options.roundingMethod.halfEvenBankersRounding&&r===1||e>0&&t.roundingMethod===a.options.roundingMethod.toCeilingTowardPositiveInfinity&&i===""||e>0&&t.roundingMethod===a.options.roundingMethod.toFloorTowardNegativeInfinity&&i==="-"||e>0&&t.roundingMethod===a.options.roundingMethod.upRoundAwayFromZero}static _truncateDecimalPlaces(e,t,i,r){i&&(e=this._roundFormattedValueShownOnFocus(e,t));const[n,l]=e.split(t.decimalCharacter);if(l&&l.length>r)if(r>0){const o=l.substring(0,r);e=`${n}${t.decimalCharacter}${o}`}else e=n;return e}static _checkIfInRangeWithOverrideOption(e,t){if(s.isNull(e)&&t.emptyInputBehavior===a.options.emptyInputBehavior.null||t.overrideMinMaxLimits===a.options.overrideMinMaxLimits.ignore||t.overrideMinMaxLimits===a.options.overrideMinMaxLimits.invalid)return[!0,!0];e=e.toString(),e=e.replace(",",".");const i=s.parseStr(t.minimumValue),r=s.parseStr(t.maximumValue),n=s.parseStr(e);let l;switch(t.overrideMinMaxLimits){case a.options.overrideMinMaxLimits.floor:l=[s.testMinMax(i,n)>-1,!0];break;case a.options.overrideMinMaxLimits.ceiling:l=[!0,s.testMinMax(r,n)<1];break;default:l=[s.testMinMax(i,n)>-1,s.testMinMax(r,n)<1]}return l}static _isWithinRangeWithOverrideOption(e,t){const[i,r]=this._checkIfInRangeWithOverrideOption(e,t);return i&&r}static _cleanValueForRangeParse(e){return s.isNull(e)||(e=e.toString().replace(",",".")),s.parseStr(e)}static _isMinimumRangeRespected(e,t){return s.testMinMax(s.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))>-1}static _isMaximumRangeRespected(e,t){return s.testMinMax(s.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}_triggerRangeEvents(e,t){e||this._triggerEvent(a.events.minRangeExceeded,this.domElement),t||this._triggerEvent(a.events.maxRangeExceeded,this.domElement)}_setInvalidState(){this.isInputElement?s.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(a.events.invalidValue,this.domElement),this.validState=!1}_setValidState(){this.isInputElement?s.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(a.events.correctedValue,this.domElement),this.validState=!0}_setValidOrInvalidState(e){if(this.settings.overrideMinMaxLimits===a.options.overrideMinMaxLimits.invalid){const t=this.constructor._isMinimumRangeRespected(e,this.settings),i=this.constructor._isMaximumRangeRespected(e,this.settings);t&&i?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(t,i)}}_keepAnOriginalSettingsCopy(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}_trimLeadingAndTrailingZeros(e){if(e===""||e===null)return e;if(this.settings.leadingZero!==a.options.leadingZero.keep){if(Number(e)===0)return"0";e=e.replace(/^(-)?0+(?=\d)/g,"$1")}return s.contains(e,".")&&(e=e.replace(/(\.[0-9]*?)0+$/,"$1")),e=e.replace(/\.$/,""),e}_setPersistentStorageName(){this.settings.saveValueToSessionStorage&&(this.domElement.name!==""&&!s.isUndefined(this.domElement.name)?this.rawValueStorageName=`${this.storageNamePrefix}${decodeURIComponent(this.domElement.name)}`:this.rawValueStorageName=`${this.storageNamePrefix}${this.domElement.id}`)}_saveValueToPersistentStorage(){this.settings.saveValueToSessionStorage&&sessionStorage.setItem(this.rawValueStorageName,this.rawValue)}_getValueFromPersistentStorage(){return this.settings.saveValueToSessionStorage?sessionStorage.getItem(this.rawValueStorageName):(s.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}_removeValueFromPersistentStorage(){this.settings.saveValueToSessionStorage&&sessionStorage.removeItem(this.rawValueStorageName)}_getDefaultValue(e){const t=e.getAttribute("value");return s.isNull(t)?"":t}_onFocusInAndMouseEnter(e){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&e.type==="mouseenter"&&e.altKey){this.constructor._unformatAltHovered(this);return}if(e.type==="focus"&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),e.type==="focus"&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),e.type==="focus"||e.type==="mouseenter"&&!this.isFocused){let t=null;this.settings.emptyInputBehavior===a.options.emptyInputBehavior.focus&&this.rawValue<0&&this.settings.negativeBracketsTypeOnBlur!==null&&this.settings.isNegativeSignAllowed&&(t=this.constructor._removeBrackets(s.getElementValue(this.domElement),this.settings));const i=this._getRawValueToFormat(this.rawValue);if(i!==""){const o=this.constructor._roundFormattedValueShownOnFocusOrBlur(i,this.settings,this.isFocused);if(this.settings.showOnlyNumbersOnFocus===a.options.showOnlyNumbersOnFocus.onlyNumbers)this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",t=o.replace(".",this.settings.decimalCharacter);else{let c;s.isNull(o)?c="":c=this.constructor._addGroupSeparators(o.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,i),t=c}}s.isNull(t)?this.valueOnFocus="":this.valueOnFocus=t,this.lastVal=this.valueOnFocus;const r=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),n=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),l=r&&n!==""&&this.settings.emptyInputBehavior===a.options.emptyInputBehavior.focus;l&&(t=n),s.isNull(t)||this._setElementValue(t),l&&n===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&s.setElementSelection(e.target,0)}}_onFocus(){this.settings.isCancellable&&this._saveCancellableValue()}_onFocusIn(e){this.settings.selectOnFocus?this.select():s.isNull(this.settings.caretPositionOnFocus)||s.setElementSelection(e.target,this._initialCaretPosition(s.getElementValue(this.domElement)))}_enterFormulaMode(){this.settings.formulaMode&&(this.formulaMode=!0,s.setElementValue(this.domElement,"="),s.setElementSelection(this.domElement,1))}_exitFormulaMode(){let e=s.getElementValue(this.domElement);e=e.replace(/^\s*=/,"");let t;try{const i=new gi(e,this.settings.decimalCharacter);t=new ui().evaluate(i)}catch{this._triggerEvent(a.events.invalidFormula,this.domElement,{formula:e,aNElement:this}),this.reformat(),this.formulaMode=!1;return}this._triggerEvent(a.events.validFormula,this.domElement,{formula:e,result:t,aNElement:this}),this.set(t),this.formulaMode=!1}_acceptNonPrintableKeysInFormulaMode(){return this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete||this.eventKey===d.keyName.LeftArrow||this.eventKey===d.keyName.RightArrow||this.eventKey===d.keyName.Home||this.eventKey===d.keyName.End}_onKeydown(e){if(this.compositioning)return;if(this.formatted=!1,this.isEditing=!0,!this.formulaMode&&!this.isFocused&&this.settings.unformatOnHover&&e.altKey&&this.domElement===s.getHoveredElement()){this.constructor._unformatAltHovered(this);return}if(this._updateEventKeyInfo(e),this.keydownEventCounter+=1,this.keydownEventCounter===1&&(this.initialValueOnFirstKeydown=s.getElementValue(e.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===d.keyName.Esc){this.formulaMode=!1,this.reformat();return}if(this.eventKey===d.keyName.Enter){this._exitFormulaMode();return}if(this._acceptNonPrintableKeysInFormulaMode())return}else{if(this.eventKey===d.keyName.Equal){this._enterFormulaMode();return}if(this.settings.modifyValueOnUpDownArrow&&(this.eventKey===d.keyName.UpArrow||this.eventKey===d.keyName.DownArrow)){this.upDownArrowAction(e);return}}if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled){this.processed=!0;return}this.eventKey===d.keyName.Esc&&(e.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(a.events.native.input,e.target)),this.select());let t=s.getElementValue(e.target);if(this.eventKey===d.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(a.events.native.change,e.target),this.valueOnFocus=t,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(e),this._processNonPrintableKeysAndShortcuts(e)){this.processed=!0;return}if(this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete){const i=this._processCharacterDeletion(e);if(this.processed=!0,!i){e.preventDefault();return}this._formatValue(e),t=s.getElementValue(e.target),t!==this.lastVal&&this.throwInput&&(this._triggerEvent(a.events.native.input,e.target),e.preventDefault()),this.lastVal=t,this.throwInput=!0}}_onKeypress(e){if(this.compositioning)return;if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode()||this.settings.formulaChars.test(this.eventKey))return;e.preventDefault();return}if(this.eventKey===d.keyName.Insert)return;const t=this.processed;if(this._updateInternalProperties(e),this._processNonPrintableKeysAndShortcuts(e))return;if(t){e.preventDefault();return}if(this._processCharacterInsertion()){this._formatValue(e);const r=s.getElementValue(e.target);if(r!==this.lastVal&&this.throwInput)this._triggerEvent(a.events.native.input,e.target),e.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&s.getElementSelection(e.target).start===s.getElementSelection(e.target).end&&s.getElementSelection(e.target).start===r.indexOf(this.settings.decimalCharacter)){const n=s.getElementSelection(e.target).start+1;s.setElementSelection(e.target,n)}e.preventDefault()}this.lastVal=s.getElementValue(e.target),this.throwInput=!0,this._setValidOrInvalidState(this.rawValue);return}e.preventDefault()}_onKeyup(e){if(this.compositioning||(this.isEditing=!1,this.keydownEventCounter=0,this.formulaMode))return;if(this.settings.isCancellable&&this.eventKey===d.keyName.Esc){e.preventDefault();return}if(this._updateEventKeyInfo(e),this.eventKey===d.keyName.Z||this.eventKey===d.keyName.z){if(e.ctrlKey&&e.shiftKey){e.preventDefault(),this._historyTableRedo(),this._triggerEvent(a.events.native.input,e.target),this.onGoingRedo=!0;return}else if(e.ctrlKey&&!e.shiftKey)if(this.onGoingRedo)this.onGoingRedo=!1;else{e.preventDefault(),this._historyTableUndo(),this._triggerEvent(a.events.native.input,e.target);return}}else if((this.eventKey===d.keyName.Y||this.eventKey===d.keyName.y)&&e.ctrlKey){e.preventDefault(),this._historyTableRedo(),this._triggerEvent(a.events.native.input,e.target),this.onGoingRedo=!0;return}if(this.onGoingRedo&&(e.ctrlKey||e.shiftKey)&&(this.onGoingRedo=!1),(e.ctrlKey||e.metaKey)&&(this.eventKey===d.keyName.X||this.eventKey===d.keyName.x)){const r=s.getElementSelection(this.domElement).start,n=this.constructor._toNumericValue(s.getElementValue(e.target),this.settings);this.set(n),this._setCaretPosition(r)}if(this.eventKey===d.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt){this.constructor._reformatAltHovered(this);return}if((e.ctrlKey||e.metaKey)&&(this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete)){const r=s.getElementValue(e.target);this._setRawValue(this._formatOrUnformatOther(!1,r));return}this._updateInternalProperties(e);const t=this._processNonPrintableKeysAndShortcuts(e);delete this.valuePartsBeforePaste;const i=s.getElementValue(e.target);if(!(t||i===""&&this.initialValueOnFirstKeydown==="")&&(i===this.settings.currencySymbol?this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix?s.setElementSelection(e.target,0):s.setElementSelection(e.target,this.settings.currencySymbol.length):this.eventKey===d.keyName.Tab&&s.setElementSelection(e.target,0,i.length),(i===this.settings.suffixText||this.rawValue===""&&this.settings.currencySymbol!==""&&this.settings.suffixText!=="")&&s.setElementSelection(e.target,0),this.settings.decimalPlacesShownOnFocus!==null&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(e),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),i!==this.initialValueOnFirstKeydown&&this._triggerEvent(a.events.formatted,e.target,{oldValue:this.initialValueOnFirstKeydown,newValue:i,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),this.historyTable.length>1)){const r=s.getElementSelection(this.domElement);this.selectionStart=r.start,this.selectionEnd=r.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}_saveRawValueForAndroid(){if(this.eventKey===d.keyName.AndroidDefault){let e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}_onFocusOutAndMouseLeave(e){if(this.isEditing=!1,!(e.type==="mouseleave"&&this.formulaMode)){if(this.settings.unformatOnHover&&e.type==="mouseleave"&&this.hoveredWithAlt){this.constructor._reformatAltHovered(this);return}if(e.type==="mouseleave"&&!this.isFocused||e.type==="blur"){e.type==="blur"&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===a.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);const t=this._getRawValueToFormat(this.rawValue),i=s.isNull(t),[r,n]=this.constructor._checkIfInRangeWithOverrideOption(t,this.settings);let l=!1;if(t!==""&&!i&&(this._triggerRangeEvents(r,n),this.settings.valuesToStrings&&this._checkValuesToStrings(t)&&(this._setElementValue(this.settings.valuesToStrings[t]),l=!0)),!l){let o;if(i||t===""?o=t:o=String(t),t!==""&&!i)r&&n&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(t,this.settings)?(o=this._modifyNegativeSignAndDecimalCharacterForRawValue(o),this.settings.divisorWhenUnfocused&&!s.isNull(o)&&(o=o/this.settings.divisorWhenUnfocused,o=o.toString()),o=this.constructor._roundFormattedValueShownOnBlur(o,this.settings),o=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(o,this.settings)):this._triggerRangeEvents(r,n);else if(t==="")switch(this.settings.emptyInputBehavior){case a.options.emptyInputBehavior.zero:this._setRawValue("0"),o=this.constructor._roundValue("0",this.settings,0);break;case a.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case a.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:s.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),o=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}let c=this.constructor._orderValueCurrencySymbolAndSuffixText(o,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(o,this.settings)||i&&this.settings.emptyInputBehavior===a.options.emptyInputBehavior.null||(c=this.constructor._addGroupSeparators(o,this.settings,!1,t)),(c!==t||t===""||this.settings.allowDecimalPadding===a.options.allowDecimalPadding.never||this.settings.allowDecimalPadding===a.options.allowDecimalPadding.floats)&&(this.settings.symbolWhenUnfocused&&t!==""&&t!==null&&(c=`${c}${this.settings.symbolWhenUnfocused}`),this._setElementValue(c))}this._setValidOrInvalidState(this.rawValue),e.type==="blur"&&this._onBlur(e)}}}_onPaste(e){if(e.preventDefault(),this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)return;let t;e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):s.throwError("Unable to retrieve the pasted value. Please use a modern browser (i.e. Firefox or Chromium).");let i;e.target.tagName?i=e.target:i=e.explicitOriginalTarget;const r=s.getElementValue(i),n=i.selectionStart||0,l=i.selectionEnd||0,o=l-n;if(o===r.length){const B=this._preparePastedText(t),F=s.arabicToLatinNumbers(B,!1,!1,!1);if(F==="."||F===""||F!=="."&&!s.isNumber(F)){this.formatted=!0,this.settings.onInvalidPaste===a.options.onInvalidPaste.error&&s.throwError(`The pasted value '${t}' is not a valid paste content.`);return}this.set(F),this.formatted=!0,this._triggerEvent(a.events.native.input,i);return}const c=s.isNegativeStrict(t,this.settings.negativeSignCharacter);c&&(t=t.slice(1,t.length));const u=this._preparePastedText(t);let m;if(u==="."?m=".":m=s.arabicToLatinNumbers(u,!1,!1,!1),m!=="."&&(!s.isNumber(m)||m==="")){this.formatted=!0,this.settings.onInvalidPaste===a.options.onInvalidPaste.error&&s.throwError(`The pasted value '${t}' is not a valid paste content.`);return}let g,f=s.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter),v,p;c&&!f?(f=!0,v=!0):v=!1;const E=r.slice(0,n),P=r.slice(l,r.length);n!==l?p=this._preparePastedText(E+P):p=this._preparePastedText(r),f&&(p=s.setRawNegativeSign(p)),g=s.convertCharacterCountToIndexPosition(s.countNumberCharactersOnTheCaretLeftSide(r,n,this.settings.decimalCharacter)),v&&g++;let y=p.slice(0,g),w=p.slice(g,p.length),S=!1;m==="."&&(s.contains(y,".")&&(S=!0,y=y.replace(".","")),w=w.replace(".",""));let b=!1;switch(y===""&&w==="-"&&(y="-",w="",b=!0),this.settings.onInvalidPaste){case a.options.onInvalidPaste.truncate:case a.options.onInvalidPaste.replace:const B=s.parseStr(this.settings.minimumValue),F=s.parseStr(this.settings.maximumValue);let D=p,M=0,k=y;for(;M<m.length&&(k+=m[M],p=k+w,!!this.constructor._checkIfInRange(p,B,F));)D=p,M++;if(g+=M,b&&g++,this.settings.onInvalidPaste===a.options.onInvalidPaste.truncate){p=D,S&&g--;break}let O=g;const A=D.length;for(;M<m.length&&O<A;){if(D[O]==="."){O++;continue}if(p=s.replaceCharAt(D,O,m[M]),!this.constructor._checkIfInRange(p,B,F))break;D=p,M++,O++}g=O,S&&g--,p=D;break;case a.options.onInvalidPaste.error:case a.options.onInvalidPaste.ignore:case a.options.onInvalidPaste.clamp:default:if(p=`${y}${m}${w}`,n===l)g=s.convertCharacterCountToIndexPosition(s.countNumberCharactersOnTheCaretLeftSide(r,n,this.settings.decimalCharacter))+m.length;else if(w==="")g=s.convertCharacterCountToIndexPosition(s.countNumberCharactersOnTheCaretLeftSide(r,n,this.settings.decimalCharacter))+m.length,b&&g++;else{const J=s.convertCharacterCountToIndexPosition(s.countNumberCharactersOnTheCaretLeftSide(r,l,this.settings.decimalCharacter)),te=s.getElementValue(i).slice(n,l);g=J-o+s.countCharInText(this.settings.digitGroupSeparator,te)+m.length}v&&g++,S&&g--}if(!s.isNumber(p)||p===""){this.settings.onInvalidPaste===a.options.onInvalidPaste.error&&s.throwError(`The pasted value '${t}' would result into an invalid content '${p}'.`);return}let _=!1,oe=!1;try{this.set(p),_=!0}catch{let F;switch(this.settings.onInvalidPaste){case a.options.onInvalidPaste.clamp:F=s.clampToRangeLimits(p,this.settings);try{this.set(F)}catch{s.throwError(`Fatal error: Unable to set the clamped value '${F}'.`)}oe=!0,_=!0,p=F;break;case a.options.onInvalidPaste.error:case a.options.onInvalidPaste.truncate:case a.options.onInvalidPaste.replace:s.throwError(`The pasted value '${t}' results in a value '${p}' that is outside of the minimum [${this.settings.minimumValue}] and maximum [${this.settings.maximumValue}] value range.`);case a.options.onInvalidPaste.ignore:default:return}}const Y=s.getElementValue(i);let K;if(_)switch(this.settings.onInvalidPaste){case a.options.onInvalidPaste.clamp:if(oe){this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix?s.setElementSelection(i,Y.length-this.settings.currencySymbol.length):s.setElementSelection(i,Y.length);break}case a.options.onInvalidPaste.error:case a.options.onInvalidPaste.ignore:case a.options.onInvalidPaste.truncate:case a.options.onInvalidPaste.replace:default:K=s.findCaretPositionInFormattedNumber(p,g,Y,this.settings.decimalCharacter),s.setElementSelection(i,K)}_&&r!==Y&&this._triggerEvent(a.events.native.input,i)}_onBlur(e){this.isFocused=!1,this.isEditing=!1,s.trimPaddedZerosFromDecimalPlaces(this.rawValue)!==s.trimPaddedZerosFromDecimalPlaces(this.rawValueOnFocus)&&this._triggerEvent(a.events.native.change,e.target),this.rawValueOnFocus=void 0}_wheelAndUpDownActions(e,t,i,r){const n=e.target.selectionStart||0,l=e.target.selectionEnd||0,o=this.rawValue;let c;if(s.isUndefinedOrNullOrEmpty(o)?this.settings.minimumValue>0||this.settings.maximumValue<0?t?c=this.settings.minimumValue:c=this.settings.maximumValue:c=0:c=o,c=+c,s.isNumber(r)){const u=+r;t?c+=u:i&&(c-=u)}else t?c=s.addAndRoundToNearestAuto(c,this.settings.decimalPlacesRawValue):i&&(c=s.subtractAndRoundToNearestAuto(c,this.settings.decimalPlacesRawValue));c=s.clampToRangeLimits(c,this.settings),c!==+o&&(this.set(c),this._triggerEvent(a.events.native.input,e.target)),e.preventDefault(),this._setSelection(n,l)}upDownArrowAction(e){if(this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)return;let t=!1,i=!1;this.eventKey===d.keyName.UpArrow?t=!0:this.eventKey===d.keyName.DownArrow?i=!0:s.throwError("Something has gone wrong since neither an Up or Down arrow key is detected, but the function was still called!"),this._wheelAndUpDownActions(e,t,i,this.settings.upDownStep)}_onWheel(e){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===a.options.wheelOn.focus?this.isFocused?e.shiftKey||this.wheelAction(e):e.shiftKey&&this.wheelAction(e):this.settings.wheelOn===a.options.wheelOn.hover?e.shiftKey?(e.preventDefault(),window.scrollBy(0,s.isNegativeStrict(String(e.deltaY))?-50:50)):this.wheelAction(e):s.throwError("Unknown `wheelOn` option."))}wheelAction(e){this.isWheelEvent=!0;let t=!1,i=!1,r=!1;s.isWheelUpEvent(e)?t=!0:s.isWheelDownEvent(e)?i=!0:s.isWheelEventWithZeroDeltaY(e)?r=!0:s.throwError("The event is not a 'wheel' event."),r||this._wheelAndUpDownActions(e,t,i,this.settings.wheelStep),this.isWheelEvent=!1}_onDrop(e){if(this.formulaMode)return;this.isDropEvent=!0,e.preventDefault();const t=e.dataTransfer.getData("text/plain"),i=this.unformatOther(t),r=this.rawValue;this.set(i),this.isDropEvent=!1;const n=this.constructor._toNumericValue(i,this.settings);isNaN(Number(n))||s.trimPaddedZerosFromDecimalPlaces(r)!==s.trimPaddedZerosFromDecimalPlaces(n)&&this._triggerEvent(a.events.native.change,this.domElement)}_onFormSubmit(){return this._getFormAutoNumericChildren(this.parentForm).map(i=>this.constructor.getAutoNumericElement(i)).forEach(i=>i._unformatOnSubmit()),!0}_onFormReset(){this._getFormAutoNumericChildren(this.parentForm).map(i=>this.constructor.getAutoNumericElement(i)).forEach(i=>{const r=this._getDefaultValue(i.node());setTimeout(()=>i.set(r),0)})}_unformatOnSubmit(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}_onKeydownGlobal(e){if(s.character(e)===d.keyName.Alt){const t=s.getHoveredElement();if(a.isManagedByAutoNumeric(t)){const i=a.getAutoNumericElement(t);!i.formulaMode&&i.settings.unformatOnHover&&this.constructor._unformatAltHovered(i)}}}_onKeyupGlobal(e){if(s.character(e)===d.keyName.Alt){const t=s.getHoveredElement();if(a.isManagedByAutoNumeric(t)){const i=a.getAutoNumericElement(t);if(i.formulaMode||!i.settings.unformatOnHover)return;this.constructor._reformatAltHovered(i)}}}_onCompositionstart(e){const t={key:d.keyName.Space,which:"32",keyCode:"32"},i=new KeyboardEvent("keydown",t);e.target.dispatchEvent(i),this.compositioning=!0}_onCompositionend(e){this.compositioning=!1;const t={key:d.keyName.Space,which:"32",keyCode:"32"},i=new KeyboardEvent("keypress",t);e.target.dispatchEvent(i);const r=new KeyboardEvent("keyup",t);e.target.dispatchEvent(r)}_isElementTagSupported(){return s.isElement(this.domElement)||s.throwError(`The DOM element is not valid, ${this.domElement} given.`),s.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}_isInputElement(){return this.domElement.tagName.toLowerCase()==="input"}_isInputTypeSupported(){return this.domElement.type==="text"||this.domElement.type==="hidden"||this.domElement.type==="tel"||s.isUndefinedOrNullOrEmpty(this.domElement.type)}_checkElement(){const e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||s.throwError(`The <${e}> tag is not supported by autoNumeric`),this._isInputElement()?(this._isInputTypeSupported()||s.throwError(`The input type "${this.domElement.type}" is not supported by autoNumeric`),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this._isContentEditable(this.domElement))}_isContentEditable(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")==="true"}_formatDefaultValueOnPageLoad(e=null){let t=!0,i;if(s.isNull(e)?(i=s.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",i)):i=e,this.isInputElement||this.isContentEditable){const r=this.constructor._toNumericValue(i,this.settings);if(!this.domElement.hasAttribute("value")||this.domElement.getAttribute("value")==="")!isNaN(Number(r))&&r!==1/0?(this.set(r),t=!1):s.throwError(`The value [${i}] used in the input is not a valid value autoNumeric can work with.`);else if(this.settings.defaultValueOverride!==null&&this.settings.defaultValueOverride.toString()!==i||this.settings.defaultValueOverride===null&&i!==""&&i!==this.domElement.getAttribute("value")||i!==""&&this.domElement.getAttribute("type")==="hidden"&&!s.isNumber(r)){if(this.settings.saveValueToSessionStorage&&(this.settings.decimalPlacesShownOnFocus!==null||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){const n=this.constructor._removeBrackets(i,this.settings);(this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix)&&this.settings.negativeSignCharacter!==""&&s.isNegative(i,this.settings.negativeSignCharacter)?this._setRawValue(`-${this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused)}`):this._setRawValue(this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused))}t=!1}if(i==="")switch(this.settings.emptyInputBehavior){case a.options.emptyInputBehavior.focus:case a.options.emptyInputBehavior.press:break;case a.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case a.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case a.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case a.options.emptyInputBehavior.zero:this.set("0");break;case a.options.emptyInputBehavior.null:this.set(null);break;default:this.set(this.settings.emptyInputBehavior)}else t&&i===this.domElement.getAttribute("value")&&this.set(i)}else(this.settings.defaultValueOverride===null||this.settings.defaultValueOverride===i)&&this.set(i)}static _correctNegativePositiveSignPlacementOption(e){if(s.isNull(e.negativePositiveSignPlacement))if(!s.isUndefined(e)&&s.isUndefinedOrNullOrEmpty(e.negativePositiveSignPlacement)&&!s.isUndefinedOrNullOrEmpty(e.currencySymbol))switch(e.currencySymbolPlacement){case a.options.currencySymbolPlacement.suffix:e.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;break;case a.options.currencySymbolPlacement.prefix:e.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.left;break}else e.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.left}static _correctCaretPositionOnFocusAndSelectOnFocusOptions(e){return s.isNull(e)?null:(!s.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&s.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&(e.selectOnFocus=a.options.selectOnFocus.doNotSelect),s.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&!s.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&e.selectOnFocus===a.options.selectOnFocus.select&&(e.caretPositionOnFocus=a.options.caretPositionOnFocus.doNoForceCaretPosition),e)}static _calculateDecimalPlacesOnInit(e){this._validateDecimalPlacesRawValue(e),e.decimalPlacesShownOnFocus===a.options.decimalPlacesShownOnFocus.useDefault&&(e.decimalPlacesShownOnFocus=e.decimalPlaces),e.decimalPlacesShownOnBlur===a.options.decimalPlacesShownOnBlur.useDefault&&(e.decimalPlacesShownOnBlur=e.decimalPlaces),e.decimalPlacesRawValue===a.options.decimalPlacesRawValue.useDefault&&(e.decimalPlacesRawValue=e.decimalPlaces);let t=0;e.rawValueDivisor&&e.rawValueDivisor!==a.options.rawValueDivisor.none&&(t=String(e.rawValueDivisor).length-1,t<0&&(t=0)),e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+t,Number(e.originalDecimalPlacesRawValue)+t)}static _calculateDecimalPlacesOnUpdate(e,t=null){this._validateDecimalPlacesRawValue(e),s.isNull(t)&&s.throwError("When updating the settings, the previous ones should be passed as an argument.");const i="decimalPlaces"in e;if(!(i||"decimalPlacesRawValue"in e||"decimalPlacesShownOnFocus"in e||"decimalPlacesShownOnBlur"in e||"rawValueDivisor"in e))return;i?((!("decimalPlacesShownOnFocus"in e)||e.decimalPlacesShownOnFocus===a.options.decimalPlacesShownOnFocus.useDefault)&&(e.decimalPlacesShownOnFocus=e.decimalPlaces),(!("decimalPlacesShownOnBlur"in e)||e.decimalPlacesShownOnBlur===a.options.decimalPlacesShownOnBlur.useDefault)&&(e.decimalPlacesShownOnBlur=e.decimalPlaces),(!("decimalPlacesRawValue"in e)||e.decimalPlacesRawValue===a.options.decimalPlacesRawValue.useDefault)&&(e.decimalPlacesRawValue=e.decimalPlaces)):(s.isUndefined(e.decimalPlacesShownOnFocus)&&(e.decimalPlacesShownOnFocus=t.decimalPlacesShownOnFocus),s.isUndefined(e.decimalPlacesShownOnBlur)&&(e.decimalPlacesShownOnBlur=t.decimalPlacesShownOnBlur));let r=0;e.rawValueDivisor&&e.rawValueDivisor!==a.options.rawValueDivisor.none&&(r=String(e.rawValueDivisor).length-1,r<0&&(r=0)),!e.decimalPlaces&&!e.decimalPlacesRawValue?e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+r,Number(t.originalDecimalPlacesRawValue)+r):e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+r,Number(e.decimalPlacesRawValue)+r)}_calculateVMinAndVMaxIntegerSizes(){let[e]=this.settings.maximumValue.toString().split("."),[t]=!this.settings.minimumValue&&this.settings.minimumValue!==0?[]:this.settings.minimumValue.toString().split(".");e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}_calculateValuesToStringsKeys(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}static _cachesUsualRegularExpressions(e,t){let i;e.negativeSignCharacter!==a.options.negativeSignCharacter.hyphen?i=`([-\\${e.negativeSignCharacter}]?)`:i="(-?)",t.aNegRegAutoStrip=i,e.allowedAutoStrip=new RegExp(`[^-0123456789\\${e.decimalCharacter}]`,"g"),e.numRegAutoStrip=new RegExp(`${i}(?:\\${e.decimalCharacter}?([0-9]+\\${e.decimalCharacter}[0-9]+)|([0-9]*(?:\\${e.decimalCharacter}[0-9]*)?))`),e.stripReg=new RegExp(`^${t.aNegRegAutoStrip}0*([0-9])`),e.formulaChars=new RegExp(`[0-9${e.decimalCharacter}+\\-*/() ]`)}_transformOptionsValuesToDefaultTypes(){for(const e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){const t=this.settings[e];(t==="true"||t==="false")&&(this.settings[e]=t==="true"),typeof t=="number"&&(this.settings[e]=t.toString())}}static _convertOldOptionsToNewOnes(e){const t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnUpDownArrow:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,negativePositiveSignBehavior:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,upDownStep:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t[i]===!0)continue;Object.prototype.hasOwnProperty.call(t,i)?(s.warning(`You are using the deprecated option name '${i}'. Please use '${t[i]}' instead from now on. The old option name will be dropped very soon™.`,!0),e[t[i]]=e[i],delete e[i]):e.failOnUnknownOption&&s.throwError(`Option name '${i}' is unknown. Please fix the options passed to autoNumeric`)}"mDec"in e&&s.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}_setSettings(e,t=!1){(t||!s.isNull(e))&&this.constructor._convertOldOptionsToNewOnes(e),t?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=d.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),t||(s.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),s.isEmptyObj(this.settings)&&s.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}static _setNegativePositiveSignPermissions(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=e.maximumValue>=0}static _toNumericValue(e,t){let i;return s.isNumber(Number(e))?(s.isNumberStrict(e)||(e=String(e).trim()),i=s.scientificToDecimal(e)):(i=this._convertToNumericString(e.toString(),t),s.isNumber(Number(i))||(s.warning(`The given value "${e}" cannot be converted to a numeric one and therefore cannot be used appropriately.`,t.showWarnings),i=NaN)),i}_preparePastedText(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}static _checkIfInRange(e,t,i){const r=s.parseStr(e);return s.testMinMax(t,r)>-1&&s.testMinMax(i,r)<1}_updateInternalProperties(){this.selection=s.getElementSelection(this.domElement),this.processed=!1}_updateEventKeyInfo(e){this.eventKey=s.character(e)}_saveCancellableValue(){this.savedCancellableValue=this.rawValue}_setSelection(e,t){e=Math.max(e,0),t=Math.min(t,s.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},s.setElementSelection(this.domElement,e,t)}_setCaretPosition(e){this._setSelection(e,e)}_getLeftAndRightPartAroundTheSelection(){const e=s.getElementValue(this.domElement),t=e.substring(0,this.selection.start),i=e.substring(this.selection.end,e.length);return[t,i]}_getUnformattedLeftAndRightPartAroundTheSelection(){let[e,t]=this._getLeftAndRightPartAroundTheSelection();if(e===""&&t==="")return["",""];let i=!0;return(this.eventKey===d.keyName.Hyphen||this.eventKey===d.keyName.Minus)&&Number(e)===0&&(i=!1),this.isTrailingNegative&&(s.isNegative(t,this.settings.negativeSignCharacter)&&!s.isNegative(e,this.settings.negativeSignCharacter)||t===""&&s.isNegative(e,this.settings.negativeSignCharacter,!0))&&(e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),e=e.replace("-",""),t=t.replace("-",""),e=`-${e}`),e=a._stripAllNonNumberCharactersExceptCustomDecimalChar(e,this.settings,i,this.isFocused),t=a._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,!1,this.isFocused),[e,t]}_normalizeParts(e,t){let i=!0;(this.eventKey===d.keyName.Hyphen||this.eventKey===d.keyName.Minus)&&Number(e)===0&&(i=!1),this.isTrailingNegative&&s.isNegative(t,this.settings.negativeSignCharacter)&&!s.isNegative(e,this.settings.negativeSignCharacter)&&(e=`-${e}`,t=t.replace(this.settings.negativeSignCharacter,"")),e=a._stripAllNonNumberCharactersExceptCustomDecimalChar(e,this.settings,i,this.isFocused),t=a._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,!1,this.isFocused),this.settings.leadingZero===a.options.leadingZero.deny&&(this.eventKey===d.keyName.num0||this.eventKey===d.keyName.numpad0)&&Number(e)===0&&!s.contains(e,this.settings.decimalCharacter)&&t!==""&&(e=e.substring(0,e.length-1));let r=e+t;if(this.settings.decimalCharacter){const n=r.match(new RegExp(`^${this.regex.aNegRegAutoStrip}\\${this.settings.decimalCharacter}`));n&&(e=e.replace(n[1],n[1]+"0"),r=e+t)}return[e,t,r]}_setValueParts(e,t,i=!1){const[r,n,l]=this._normalizeParts(e,t),[o,c]=a._checkIfInRangeWithOverrideOption(l,this.settings);if(o&&c){const m=a._truncateDecimalPlaces(l,this.settings,i,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(m===""||m===this.settings.negativeSignCharacter){let v;switch(this.settings.emptyInputBehavior){case a.options.emptyInputBehavior.focus:case a.options.emptyInputBehavior.press:case a.options.emptyInputBehavior.always:v="";break;case a.options.emptyInputBehavior.min:v=this.settings.minimumValue;break;case a.options.emptyInputBehavior.max:v=this.settings.maximumValue;break;case a.options.emptyInputBehavior.zero:v="0";break;case a.options.emptyInputBehavior.null:v=null;break;default:v=this.settings.emptyInputBehavior}this._setRawValue(v)}else this._setRawValue(this._trimLeadingAndTrailingZeros(m));const g=a._truncateDecimalPlaces(l,this.settings,i,this.settings.decimalPlacesShownOnFocus);let f=r.length;return f>g.length&&(f=g.length),f===1&&r==="0"&&this.settings.leadingZero===a.options.leadingZero.deny&&(n===""||r==="0"&&n!==""?f=1:f=0),this._setElementValue(g,!1),this._setCaretPosition(f),!0}return this._triggerRangeEvents(o,c),!1}_getSignPosition(){let e;if(this.settings.currencySymbol){const t=this.settings.currencySymbol.length,i=s.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix)this.settings.negativeSignCharacter&&i&&i.charAt(0)===this.settings.negativeSignCharacter?e=[1,t+1]:e=[0,t];else{const r=i.length;e=[r-t,r]}}else e=[1e3,-1];return e}_expandSelectionOnSign(){const[e,t]=this._getSignPosition(),i=this.selection;i.start<t&&i.end>e&&((i.start<e||i.end>t)&&s.getElementValue(this.domElement).substring(Math.max(i.start,e),Math.min(i.end,t)).match(/^\s*$/)?i.start<e?this._setSelection(i.start,e):this._setSelection(t,i.end):this._setSelection(Math.min(i.start,e),Math.max(i.end,t)))}_checkPaste(){if(!this.formatted&&!s.isUndefined(this.valuePartsBeforePaste)){const e=this.valuePartsBeforePaste,[t,i]=this._getLeftAndRightPartAroundTheSelection();delete this.valuePartsBeforePaste;const r=t.substr(0,e[0].length)+a._stripAllNonNumberCharactersExceptCustomDecimalChar(t.substr(e[0].length),this.settings,!0,this.isFocused);this._setValueParts(r,i,!0)||(this._setElementValue(e.join(""),!1),this._setCaretPosition(e[0].length))}}static _shouldSkipEventKey(e){const t=s.isInArray(e,d.keyName._allFnKeys),i=e===d.keyName.OSLeft||e===d.keyName.OSRight,r=e===d.keyName.ContextMenu,n=s.isInArray(e,d.keyName._someNonPrintableKeys),l=e===d.keyName.NumLock||e===d.keyName.ScrollLock||e===d.keyName.Insert||e===d.keyName.Command,o=e===d.keyName.Unidentified;return t||i||r||n||o||l}_processNonPrintableKeysAndShortcuts(e){if((e.ctrlKey||e.metaKey)&&e.type==="keyup"&&!s.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===d.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===d.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===d.keyName.c||this.eventKey===d.keyName.v||this.eventKey===d.keyName.x))return e.type==="keydown"&&this._expandSelectionOnSign(),(this.eventKey===d.keyName.v||this.eventKey===d.keyName.Insert)&&(e.type==="keydown"||e.type==="keypress"?s.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),e.type==="keydown"||e.type==="keypress"||this.eventKey===d.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===d.keyName.Z||this.eventKey===d.keyName.z);if(this.eventKey===d.keyName.LeftArrow||this.eventKey===d.keyName.RightArrow){if(e.type==="keydown"&&!e.shiftKey){const t=s.getElementValue(this.domElement);this.eventKey===d.keyName.LeftArrow&&(t.charAt(this.selection.start-2)===this.settings.digitGroupSeparator||t.charAt(this.selection.start-2)===this.settings.decimalCharacter)?this._setCaretPosition(this.selection.start-1):this.eventKey===d.keyName.RightArrow&&(t.charAt(this.selection.start+1)===this.settings.digitGroupSeparator||t.charAt(this.selection.start+1)===this.settings.decimalCharacter)&&this._setCaretPosition(this.selection.start+1)}return!0}return s.isInArray(this.eventKey,d.keyName._directionKeys)}_processCharacterDeletionIfTrailingNegativeSign([e,t]){const i=s.getElementValue(this.domElement),r=s.isNegative(i,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix&&(this.eventKey===d.keyName.Backspace?(this.caretFix=this.selection.start>=i.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",i.charAt(this.selection.start-1)==="-"?e=e.substring(1):this.selection.start<=i.length-this.settings.suffixText.length&&(e=e.substring(0,e.length-1))):(this.caretFix=this.selection.start>=i.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",this.selection.start>=i.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(t=t.substring(1,t.length)),s.isNegative(e,this.settings.negativeSignCharacter)&&i.charAt(this.selection.start)==="-"&&(e=e.substring(1)))),this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case a.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===d.keyName.Backspace?this.selection.start===i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&r?e=e.substring(1):e!=="-"&&(this.selection.start<=i.indexOf(this.settings.negativeSignCharacter)||!r)&&(e=e.substring(0,e.length-1)):(e[0]==="-"&&(t=t.substring(1)),this.selection.start===i.indexOf(this.settings.negativeSignCharacter)&&r&&(e=e.substring(1)));break;case a.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===d.keyName.Backspace?this.selection.start===i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?e=e.substring(1):(e!=="-"&&this.selection.start<=i.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length||e!==""&&!r)&&(e=e.substring(0,e.length-1)):(this.caretFix=this.selection.start>=i.indexOf(this.settings.currencySymbol)&&this.settings.currencySymbol!=="",this.selection.start===i.indexOf(this.settings.negativeSignCharacter)&&(e=e.substring(1)),t=t.substring(1));break}return[e,t]}_processCharacterDeletion(e){let t,i;return this.selection.length?(this._expandSelectionOnSign(),[t,i]=this._getUnformattedLeftAndRightPartAroundTheSelection()):([t,i]=this._getUnformattedLeftAndRightPartAroundTheSelection(),t===""&&i===""&&(this.throwInput=!1),this.isTrailingNegative&&s.isNegative(s.getElementValue(this.domElement),this.settings.negativeSignCharacter)?[t,i]=this._processCharacterDeletionIfTrailingNegativeSign([t,i]):this.eventKey===d.keyName.Backspace?t=t.substring(0,t.length-1):i=i.substring(1,i.length)),!this.constructor._isWithinRangeWithOverrideOption(`${t}${i}`,this.settings)||s.getElementValue(e.target)===this.settings.currencySymbol?!1:(this._setValueParts(t,i),!0)}_isDecimalCharacterInsertionAllowed(){return String(this.settings.decimalPlacesShownOnFocus)!==String(a.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(a.options.decimalPlaces.none)}_processCharacterInsertion(){let[e,t]=this._getUnformattedLeftAndRightPartAroundTheSelection();if(this.eventKey!==d.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)e=e.replace(this.settings.decimalCharacter,""),t=t.replace(this.settings.decimalCharacter,"");else{if(s.contains(e,this.settings.decimalCharacter)||t.indexOf(this.settings.decimalCharacter)>0)return!0;t.indexOf(this.settings.decimalCharacter)===0&&(t=t.substr(1))}return this.settings.negativeSignCharacter&&s.contains(t,this.settings.negativeSignCharacter)&&(e=`${this.settings.negativeSignCharacter}${e}`,t=t.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(e+this.settings.decimalCharacter,t),!0}if((this.eventKey==="-"||this.eventKey==="+")&&this.settings.isNegativeSignAllowed)return e===""&&s.contains(t,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(t=t.replace("-","")):s.isNegativeStrict(e,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(e=e.replace("-","")):(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="-")&&(e=`${this.settings.negativeSignCharacter}${e}`),this._setValueParts(e,t),!0;const i=Number(this.eventKey);return i>=0&&i<=9?(this.settings.isNegativeSignAllowed&&e===""&&s.contains(t,"-")&&(e="-",t=t.substring(1,t.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!s.contains(s.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&this.eventKey!=="0"&&(e=`-${e}`),this._setValueParts(`${e}${this.eventKey}`,t),!0):(this.throwInput=!1,!1)}_formatValue(e){const t=s.getElementValue(this.domElement);let[i]=this._getUnformattedLeftAndRightPartAroundTheSelection();if((this.settings.digitGroupSeparator===""||this.settings.digitGroupSeparator!==""&&!s.contains(t,this.settings.digitGroupSeparator))&&(this.settings.currencySymbol===""||this.settings.currencySymbol!==""&&!s.contains(t,this.settings.currencySymbol))){let[l]=t.split(this.settings.decimalCharacter),o="";s.isNegative(l,this.settings.negativeSignCharacter)&&(o=this.settings.negativeSignCharacter,l=l.replace(this.settings.negativeSignCharacter,""),i=i.replace("-","")),o===""&&l.length>this.settings.mIntPos&&i.charAt(0)==="0"&&(i=i.slice(1)),o===this.settings.negativeSignCharacter&&l.length>this.settings.mIntNeg&&i.charAt(0)==="0"&&(i=i.slice(1)),this.isTrailingNegative||(i=`${o}${i}`)}const r=this.constructor._addGroupSeparators(t,this.settings,this.isFocused,this.rawValue);let n=r.length;if(r){const l=i.split("");if((this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==a.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix)&&l[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(l.shift(),(this.eventKey===d.keyName.Backspace||this.eventKey===d.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.suffix)&&(l.push(this.settings.negativeSignCharacter),this.caretFix=e.type==="keydown"),this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===a.options.negativePositiveSignPlacement.right))){const u=this.settings.currencySymbol.split(""),m=["\\","^","$",".","|","?","*","+","(",")","["],g=[];u.forEach((f,v)=>{v=u[f],s.isInArray(v,m)?g.push("\\"+v):g.push(v)}),this.eventKey===d.keyName.Backspace&&this.settings.negativeSignCharacter==="-"&&g.push("-"),l.push(g.join("")),this.caretFix=e.type==="keydown"}for(let u=0;u<l.length;u++)l[u].match("\\d")||(l[u]="\\"+l[u]);let o;this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix?o=new RegExp(`^.*?${l.join(".*?")}`):o=new RegExp(`^.*?[${this.settings.currencySymbol}]*${l.join(".*?")}`);const c=r.match(o);c?(n=c[0].length,this.settings.showPositiveSign&&(n===0&&c.input.charAt(0)===this.settings.positiveSignCharacter&&(n=c.input.indexOf(this.settings.currencySymbol)===1?this.settings.currencySymbol.length+1:1),n===0&&c.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(n=this.settings.currencySymbol.length+1)),(n===0&&r.charAt(0)!==this.settings.negativeSignCharacter||n===1&&r.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.prefix&&(n=this.settings.currencySymbol.length+(s.isNegativeStrict(r,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===a.options.currencySymbolPlacement.suffix&&(n-=this.settings.currencySymbol.length),this.settings.suffixText&&(n-=this.settings.suffixText.length))}r!==t&&(this._setElementValue(r,!1),this._setCaretPosition(n)),this.formatted=!0}static _serialize(e,t=!1,i="unformatted",r="+",n=null){const l=[];typeof e=="object"&&e.nodeName.toLowerCase()==="form"&&Array.prototype.slice.call(e.elements).forEach(c=>{if(c.name&&!c.disabled&&["file","reset","submit","button"].indexOf(c.type)===-1){if(c.type==="select-multiple")Array.prototype.slice.call(c.options).forEach(u=>{u.selected&&(t?l.push({name:c.name,value:u.value}):l.push(`${encodeURIComponent(c.name)}=${encodeURIComponent(u.value)}`))});else if(["checkbox","radio"].indexOf(c.type)===-1||c.checked){let u;if(this.isManagedByAutoNumeric(c)){let m;switch(i){case"unformatted":m=this.getAutoNumericElement(c),s.isNull(m)||(u=this.unformat(c,m.getSettings()));break;case"localized":if(m=this.getAutoNumericElement(c),!s.isNull(m)){const g=s.cloneObject(m.getSettings());s.isNull(n)||(g.outputFormat=n),u=this.localize(c,g)}break;case"formatted":default:u=c.value}}else u=c.value;s.isUndefined(u)&&s.throwError("This error should never be hit. If it has, something really wrong happened!"),t?l.push({name:c.name,value:u}):l.push(`${encodeURIComponent(c.name)}=${encodeURIComponent(u)}`)}}});let o;return t?o=l:(o=l.join("&"),r==="+"&&(o=o.replace(/%20/g,"+"))),o}static _serializeNumericString(e,t="+"){return this._serialize(e,!1,"unformatted",t)}static _serializeFormatted(e,t="+"){return this._serialize(e,!1,"formatted",t)}static _serializeLocalized(e,t="+",i=null){return this._serialize(e,!1,"localized",t,i)}static _serializeNumericStringArray(e,t="+"){return this._serialize(e,!0,"unformatted",t)}static _serializeFormattedArray(e,t="+"){return this._serialize(e,!0,"formatted",t)}static _serializeLocalizedArray(e,t="+",i=null){return this._serialize(e,!0,"localized",t,i)}}a.multiple=(h,e=null,t=null)=>{const i=[];if(s.isObject(e)&&(t=e,e=null),s.isString(h))h=[...document.querySelectorAll(h)];else if(s.isObject(h)){Object.prototype.hasOwnProperty.call(h,"rootElement")||s.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");const v=[...h.rootElement.querySelectorAll("input")];Object.prototype.hasOwnProperty.call(h,"exclude")?(Array.isArray(h.exclude)||s.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),h=s.filterOut(v,h.exclude)):h=v}else s.isArray(h)||s.throwError("The given parameters to the 'multiple' function are invalid.");if(h.length===0){let v=!0;return!s.isNull(t)&&s.isBoolean(t.showWarnings)&&(v=t.showWarnings),s.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",v),[]}const n=s.isArray(e)&&e.length>=1;let l=!1,o=!1;if(n){const v=typeof Number(e[0]);l=v==="number"&&!isNaN(Number(e[0])),l||(v==="string"||isNaN(v)||v==="object")&&(o=!0)}const c=s.isArray(t)&&t.length>=1;let u=!1;if(c){const v=typeof t[0];(v==="string"||v==="object")&&(u=!0)}let m;o?m=a.mergeOptions(e):u?m=a.mergeOptions(t):m=t;const g=s.isNumber(e);let f;return l&&(f=e.length),h.forEach((v,p)=>{g?i.push(new a(v,e,m)):l&&p<=f?i.push(new a(v,e[p],m)):i.push(new a(v,null,m))}),i};a.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"};Object.freeze(a.events.native);Object.freeze(a.events);Object.defineProperty(a,"events",{configurable:!1,writable:!1});a.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"¤",austral:"₳",australCentavo:"¢",baht:"฿",cedi:"₵",cent:"¢",colon:"₡",cruzeiro:"₢",dollar:"$",dong:"₫",drachma:"₯",dram:"​֏",european:"₠",euro:"€",florin:"ƒ",franc:"₣",guarani:"₲",hryvnia:"₴",kip:"₭",att:"ອັດ",lepton:"Λ.",lira:"₺",liraOld:"₤",lari:"₾",mark:"ℳ",mill:"₥",naira:"₦",peseta:"₧",peso:"₱",pfennig:"₰",pound:"£",real:"R$ ",riel:"៛",ruble:"₽",rupee:"₹",rupeeOld:"₨",shekel:"₪",shekelAlt:"ש״ח‎‎",taka:"৳",tenge:"₸",togrog:"₮",won:"₩",yen:"¥"},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"·",arabicDecimalSeparator:"٫",decimalSeparatorKeySymbol:"⎖"},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoThree:"2t",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" ",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"٬",dotAbove:"˙",privateUseTwo:"’"},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnUpDownArrow:{modifyValue:!0,doNothing:!1},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:"〈,〉",japaneseQuotationMarks:"｢,｣",halfBrackets:"⸤,⸥",whiteSquareBrackets:"⟦,⟧",quotationMarks:"‹,›",guillemets:"«,»",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"−",heavyMinus:"➖",fullWidthHyphen:"－",circledMinus:"⊖",squaredMinus:"⊟",triangleMinus:"⨺",plusMinus:"±",minusPlus:"∓",dotMinus:"∸",minusTilde:"≂",not:"¬"},negativePositiveSignBehavior:{toggle:!0,doNotToggle:!1},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"＋",heavyPlus:"➕",doublePlus:"⧺",triplePlus:"⧻",circledPlus:"⊕",squaredPlus:"⊞",trianglePlus:"⨹",plusMinus:"±",minusPlus:"∓",dotPlus:"∔",altHebrewPlus:"﬩",normalSpace:" ",thinSpace:" ",narrowNoBreakSpace:" ",noBreakSpace:" "},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:h=>h%2===0,classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:h=>h>=-1&&h<0?0:Number(h)===0?1:h>0&&h<=1?2:null,classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"‰",basisPoint:"‱"},symbolWhenUnfocused:{none:null,percentage:"%",permille:"‰",basisPoint:"‱"},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},upDownStep:{progressive:"progressive"},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}};function fi(h){return Object.getOwnPropertyNames(h).forEach(e=>{e==="valuesToStrings"?Object.getOwnPropertyNames(h.valuesToStrings).forEach(i=>{h.valuesToStrings[i]!==null&&Object.freeze(h.valuesToStrings[i])}):e!=="styleRules"&&h[e]!==null&&Object.freeze(h[e])}),Object.freeze(h)}fi(a.options);Object.defineProperty(a,"options",{configurable:!1,writable:!1});a.defaultSettings={allowDecimalPadding:a.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:a.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:a.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:a.options.createLocalList.createList,currencySymbol:a.options.currencySymbol.none,currencySymbolPlacement:a.options.currencySymbolPlacement.prefix,decimalCharacter:a.options.decimalCharacter.dot,decimalCharacterAlternative:a.options.decimalCharacterAlternative.none,decimalPlaces:a.options.decimalPlaces.two,decimalPlacesRawValue:a.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:a.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:a.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:a.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:a.options.digitalGroupSpacing.three,digitGroupSeparator:a.options.digitGroupSeparator.comma,divisorWhenUnfocused:a.options.divisorWhenUnfocused.none,emptyInputBehavior:a.options.emptyInputBehavior.focus,eventBubbles:a.options.eventBubbles.bubbles,eventIsCancelable:a.options.eventIsCancelable.isCancelable,failOnUnknownOption:a.options.failOnUnknownOption.ignore,formatOnPageLoad:a.options.formatOnPageLoad.format,formulaMode:a.options.formulaMode.disabled,historySize:a.options.historySize.medium,invalidClass:a.options.invalidClass,isCancellable:a.options.isCancellable.cancellable,leadingZero:a.options.leadingZero.deny,maximumValue:a.options.maximumValue.tenTrillions,minimumValue:a.options.minimumValue.tenTrillions,modifyValueOnUpDownArrow:a.options.modifyValueOnUpDownArrow.modifyValue,modifyValueOnWheel:a.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:a.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.none,negativeSignCharacter:a.options.negativeSignCharacter.hyphen,negativePositiveSignBehavior:a.options.negativePositiveSignBehavior.doNotToggle,noEventListeners:a.options.noEventListeners.addEvents,onInvalidPaste:a.options.onInvalidPaste.error,outputFormat:a.options.outputFormat.none,overrideMinMaxLimits:a.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:a.options.positiveSignCharacter.plus,rawValueDivisor:a.options.rawValueDivisor.none,readOnly:a.options.readOnly.readWrite,roundingMethod:a.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:a.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:a.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:a.options.selectOnFocus.select,serializeSpaces:a.options.serializeSpaces.plus,showOnlyNumbersOnFocus:a.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:a.options.showPositiveSign.hide,showWarnings:a.options.showWarnings.show,styleRules:a.options.styleRules.none,suffixText:a.options.suffixText.none,symbolWhenUnfocused:a.options.symbolWhenUnfocused.none,unformatOnHover:a.options.unformatOnHover.unformat,unformatOnSubmit:a.options.unformatOnSubmit.keepCurrentValue,upDownStep:"1",valuesToStrings:a.options.valuesToStrings.none,watchExternalChanges:a.options.watchExternalChanges.doNotWatch,wheelOn:a.options.wheelOn.focus,wheelStep:a.options.wheelStep.progressive};Object.freeze(a.defaultSettings);Object.defineProperty(a,"defaultSettings",{configurable:!1,writable:!1});const W={digitGroupSeparator:a.options.digitGroupSeparator.dot,decimalCharacter:a.options.decimalCharacter.comma,decimalCharacterAlternative:a.options.decimalCharacterAlternative.dot,currencySymbol:" €",currencySymbolPlacement:a.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.prefix},ee={digitGroupSeparator:a.options.digitGroupSeparator.comma,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.dollar,currencySymbolPlacement:a.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.right},Le={digitGroupSeparator:a.options.digitGroupSeparator.comma,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.yen,currencySymbolPlacement:a.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.right},pi=s.cloneObject(W);pi.formulaMode=a.options.formulaMode.enabled;const Ke=s.cloneObject(W);Ke.minimumValue=0;const Pe=s.cloneObject(W);Pe.maximumValue=0;Pe.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;const ue=s.cloneObject(W);ue.digitGroupSeparator=a.options.digitGroupSeparator.normalSpace;const Ae=s.cloneObject(ue);Ae.minimumValue=0;const Ee=s.cloneObject(ue);Ee.maximumValue=0;Ee.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;const G=s.cloneObject(W);G.currencySymbol=a.options.currencySymbol.none;G.suffixText=` ${a.options.suffixText.percentage}`;G.wheelStep=1e-4;G.rawValueDivisor=a.options.rawValueDivisor.percentage;const Oe=s.cloneObject(G);Oe.minimumValue=0;const de=s.cloneObject(G);de.maximumValue=0;de.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;const We=s.cloneObject(G);We.decimalPlaces=3;const Ge=s.cloneObject(Oe);Ge.decimalPlaces=3;const je=s.cloneObject(de);je.decimalPlaces=3;const vi=s.cloneObject(ee);vi.formulaMode=a.options.formulaMode.enabled;const He=s.cloneObject(ee);He.minimumValue=0;const me=s.cloneObject(ee);me.maximumValue=0;me.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;const Ze=s.cloneObject(me);Ze.negativeBracketsTypeOnBlur=a.options.negativeBracketsTypeOnBlur.parentheses;const j=s.cloneObject(ee);j.currencySymbol=a.options.currencySymbol.none;j.suffixText=a.options.suffixText.percentage;j.wheelStep=1e-4;j.rawValueDivisor=a.options.rawValueDivisor.percentage;const Ce=s.cloneObject(j);Ce.minimumValue=0;const ge=s.cloneObject(j);ge.maximumValue=0;ge.negativePositiveSignPlacement=a.options.negativePositiveSignPlacement.prefix;const qe=s.cloneObject(j);qe.decimalPlaces=3;const Ye=s.cloneObject(Ce);Ye.decimalPlaces=3;const Je=s.cloneObject(ge);Je.decimalPlaces=3;const Xe=s.cloneObject(W);Xe.currencySymbol=a.options.currencySymbol.lira;a.predefinedOptions={euro:W,euroPos:Ke,euroNeg:Pe,euroSpace:ue,euroSpacePos:Ae,euroSpaceNeg:Ee,percentageEU2dec:G,percentageEU2decPos:Oe,percentageEU2decNeg:de,percentageEU3dec:We,percentageEU3decPos:Ge,percentageEU3decNeg:je,dollar:ee,dollarPos:He,dollarNeg:me,dollarNegBrackets:Ze,percentageUS2dec:j,percentageUS2decPos:Ce,percentageUS2decNeg:ge,percentageUS3dec:qe,percentageUS3decPos:Ye,percentageUS3decNeg:Je,French:W,Spanish:W,NorthAmerican:ee,British:{digitGroupSeparator:a.options.digitGroupSeparator.comma,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.pound,currencySymbolPlacement:a.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:a.options.digitGroupSeparator.apostrophe,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:" CHF",currencySymbolPlacement:a.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.prefix},Japanese:Le,Chinese:Le,Brazilian:{digitGroupSeparator:a.options.digitGroupSeparator.dot,decimalCharacter:a.options.decimalCharacter.comma,currencySymbol:a.options.currencySymbol.real,currencySymbolPlacement:a.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:a.options.negativePositiveSignPlacement.right},Turkish:Xe,dotDecimalCharCommaSeparator:{digitGroupSeparator:a.options.digitGroupSeparator.comma,decimalCharacter:a.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:a.options.digitGroupSeparator.dot,decimalCharacter:a.options.decimalCharacter.comma,decimalCharacterAlternative:a.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:a.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:a.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:a.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:a.options.allowDecimalPadding.never,minimumValue:a.options.minimumValue.zero,maximumValue:a.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:a.options.allowDecimalPadding.never,minimumValue:a.options.minimumValue.tenTrillions,maximumValue:a.options.maximumValue.zero},numeric:{digitGroupSeparator:a.options.digitGroupSeparator.noSeparator,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.none},numericPos:{digitGroupSeparator:a.options.digitGroupSeparator.noSeparator,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.none,minimumValue:a.options.minimumValue.zero,maximumValue:a.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:a.options.digitGroupSeparator.noSeparator,decimalCharacter:a.options.decimalCharacter.dot,currencySymbol:a.options.currencySymbol.none,minimumValue:a.options.minimumValue.tenTrillions,maximumValue:a.options.maximumValue.zero}};Object.getOwnPropertyNames(a.predefinedOptions).forEach(h=>{Object.freeze(a.predefinedOptions[h])});Object.freeze(a.predefinedOptions);Object.defineProperty(a,"predefinedOptions",{configurable:!1,writable:!1});function yi(h,e,t,i){const r=x(e)?.getNumber()??null,n=x(e)?.getFormatted()??"";if(t.oninput&&t.oninput(h),i(r,n),t.onValueChange){const l=r===null?void 0:r;t.onValueChange(l,n)}}var Si=re("<input/>");function Qe(h,e){ne(e,!0);let t=T(e,"class",3,""),i=T(e,"ref",15),r=T(e,"value",15),n=T(e,"readonly",3,!1),l=T(e,"allowNegative",3,!1),o=T(e,"decimalPlaces",3,0),c=T(e,"prefix",3,""),u=T(e,"suffix",3,""),m=T(e,"formatCurrency",3,!1),g=T(e,"lakhSeparator",3,!1),f=T(e,"decimalSeparator",3,"."),v=T(e,"commaSeparator",3,","),p=T(e,"modifyValueOnUpDownArrow",3,!1),E=T(e,"modifyValueOnWheel",3,!1),P=T(e,"decimalPadding",3,!1),y=ie(null);Ct(()=>{i()&&se(y,new a(i(),r()),!0)}),xt(()=>{x(y)&&x(y).wipe()}),q(()=>{if(!x(y))return;let b="0";e.min||e.min===0?b=`${e.min}`:l()?b="-9999999999999.99":b="0";const _={readOnly:n(),maximumValue:e.max||e.max===0?`${e.max}`:"9999999999999.99",minimumValue:b,digitGroupSeparator:m()?v():"",digitalGroupSpacing:g()?"2s":"3",decimalPlaces:o(),decimalCharacter:f(),allowDecimalPadding:P(),suffixText:u(),currencySymbol:c(),modifyValueOnUpDownArrow:p(),modifyValueOnWheel:E()};x(y).update(_)}),q(()=>{!x(y)||x(y).getNumber()===r()||x(y).set(r()===void 0?"":`${r()}`)});function w(b,_){if(!(l()&&b===0&&_?.trim()==="-")){if(b===null){r(void 0);return}if(_?.trim()===""){r(void 0);return}r(b)}}var S=Si();S.__input=[yi,y,e,w],S.__change=function(...b){e.onchange?.apply(this,b)},S.__keydown=function(...b){e.onkeydown?.apply(this,b)},S.__keyup=function(...b){e.onkeyup?.apply(this,b)},$t(S,b=>i(b),()=>i()),Ft(()=>{Dt(S,1,Lt(t())),ye(S,"name",e.name),ye(S,"id",e.id),S.disabled=e.disabled,ye(S,"placeholder",e.placeholder)}),X("focus",S,function(...b){e.onfocus?.apply(this,b)}),X("blur",S,function(...b){e.onblur?.apply(this,b)}),X("paste",S,function(...b){e.onpaste?.apply(this,b)}),X("copy",S,function(...b){e.oncopy?.apply(this,b)}),X("cut",S,function(...b){e.oncut?.apply(this,b)}),X("keypress",S,function(...b){e.onkeypress?.apply(this,b)}),C(h,S),ae()}kt(["input","change","keydown","keyup"]);Qe.__docgen={data:[{name:"value",visibility:"public",description:"NumericInput ref",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"..."},{name:"ref",visibility:"public",description:"NumericInput ref",keywords:[],kind:"let",type:{kind:"type",type:"object",text:"HTMLInputElement"},static:!1,readonly:!1,defaultValue:"..."},{name:"class",visibility:"public",description:"Custom css class",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"placeholder",visibility:"public",description:"How round should the border radius be?",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"disabled",visibility:"public",description:"disabled state",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"readonly",visibility:"public",description:"Read only ?",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"name",visibility:"public",description:"Name",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"id",visibility:"public",description:"Id",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"allowNegative",visibility:"public",description:"Allow Negative",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"decimalPlaces",visibility:"public",description:"Decimal Places",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"0"},{name:"prefix",visibility:"public",description:"prefix",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"suffix",visibility:"public",description:"suffix",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'""'},{name:"formatCurrency",visibility:"public",description:"Get comma separated Currency value",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"lakhSeparator",visibility:"public",description:"Lakh Separator (for Indian Currency)",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"min",visibility:"public",description:"min, should not be less than -9999999999999.99",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"max",visibility:"public",description:"max, should not exceed 9999999999999.99",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"decimalSeparator",visibility:"public",description:"Decimal Separator. Default '.'",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'"."'},{name:"decimalPadding",visibility:"public",description:"Allow padding the decimal places with zeros.. Default false",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"commaSeparator",visibility:"public",description:"Comma Separator. Default ','",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:'","'},{name:"modifyValueOnUpDownArrow",visibility:"public",description:"Determine if the element value can be incremented / decremented with the up and down arrow keys.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"modifyValueOnWheel",visibility:"public",description:"Determine if the element value can be incremented / decremented with the mouse wheel.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"oninput",visibility:"public",description:"oninput event handler",keywords:[],kind:"let",type:{kind:"function",text:"FormEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onchange",visibility:"public",description:"onchange event handler",keywords:[],kind:"let",type:{kind:"function",text:"ChangeEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onblur",visibility:"public",description:"onblur event handler",keywords:[],kind:"let",type:{kind:"function",text:"FocusEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onfocus",visibility:"public",description:"onfocus event handler",keywords:[],kind:"let",type:{kind:"function",text:"FocusEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onpaste",visibility:"public",description:"onpaste event handler",keywords:[],kind:"let",type:{kind:"function",text:"ClipboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"oncopy",visibility:"public",description:"oncopy event handler",keywords:[],kind:"let",type:{kind:"function",text:"ClipboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"oncut",visibility:"public",description:"oncut event handler",keywords:[],kind:"let",type:{kind:"function",text:"ClipboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onkeydown",visibility:"public",description:"onkeydown event handler",keywords:[],kind:"let",type:{kind:"function",text:"KeyboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onkeypress",visibility:"public",description:"onkeypress event handler",keywords:[],kind:"let",type:{kind:"function",text:"KeyboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onkeyup",visibility:"public",description:"onkeyup event handler",keywords:[],kind:"let",type:{kind:"function",text:"KeyboardEventHandler<HTMLInputElement>"},static:!1,readonly:!1},{name:"onValueChange",visibility:"public",description:"on Numeric Value Change",keywords:[],kind:"let",type:{kind:"function",text:"(value: number | undefined, formattedValue: string) => void"},static:!1,readonly:!1}],name:"NumericInput.svelte"};function bi(h,e){ne(e,!0),ei(e.repository());var t=I(),i=V(t);he(i,()=>e.Stories,(r,n)=>{n(r,{})}),C(h,t),ae()}function be(h){return h==="__proto__"}function wi(h){switch(typeof h){case"number":case"symbol":return!1;case"string":return h.includes(".")||h.includes("[")||h.includes("]")}}function Pi(h){return typeof h=="string"||typeof h=="symbol"?h:Object.is(h?.valueOf?.(),-0)?"-0":String(h)}function Ei(h){const e=[],t=h.length;if(t===0)return e;let i=0,r="",n="",l=!1;for(h.charCodeAt(0)===46&&(e.push(""),i++);i<t;){const o=h[i];n?o==="\\"&&i+1<t?(i++,r+=h[i]):o===n?n="":r+=o:l?o==='"'||o==="'"?n=o:o==="]"?(l=!1,e.push(r),r=""):r+=o:o==="["?(l=!0,r&&(e.push(r),r="")):o==="."?r&&(e.push(r),r=""):r+=o,i++}return r&&e.push(r),e}function et(h,e,t){if(h==null)return t;switch(typeof e){case"string":{if(be(e))return t;const i=h[e];return i===void 0?wi(e)?et(h,Ei(e),t):t:i}case"number":case"symbol":{typeof e=="number"&&(e=Pi(e));const i=h[e];return i===void 0?t:i}default:{if(Array.isArray(e))return Oi(h,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),be(e))return t;const i=h[e];return i===void 0?t:i}}}function Oi(h,e,t){if(e.length===0)return t;let i=h;for(let r=0;r<e.length;r++){if(i==null||be(e[r]))return t;i=i[e[r]]}return i===void 0?t:i}const{addons:Ci}=__STORYBOOK_MODULE_PREVIEW_API__,xi=Ci.getChannel(),Fi=h=>{const{storyContext:e}=h;if(ki(e))return;const t=Ti({code:e.parameters.__svelteCsf.rawCode,args:h.args});setTimeout(()=>{xi.emit(Tt,{id:e.id,args:e.unmappedArgs,source:t})})},ki=h=>{const e=h?.parameters.docs?.source,t=h?.parameters.__isArgsStory;return h?.parameters.__svelteCsf?.rawCode?e?.type===Te.DYNAMIC?!1:!t||e?.code||e?.type===Te.CODE:!0},Ti=({code:h,args:e})=>{const t=Object.entries(e??{}).map(([n,l])=>Ni(n,l)).filter(n=>n);let i=t.join(" ");return i.length>50&&(i=`
  ${t.join(`
  `)}
`),h.replaceAll("{...args}",i).replace(/args(?:[\w\d_$.?[\]"'])+/g,n=>{const l=n.replaceAll("?",""),o=et({args:e},l);return tt(o)})},Vi=h=>{const e=h.getMockName?.()??h.name;return e&&e!=="spy"?e:"() => {}"},tt=h=>typeof h=="object"&&h[Symbol.for("svelte.snippet")]?"snippet":typeof h=="function"?Vi(h):JSON.stringify(h,null,1)?.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1"),Ni=(h,e)=>{if(e==null)return null;if(e===!0)return h;const t=tt(e);return typeof e=="string"?`${h}=${t}`:`${h}={${t}}`};function _i(h,e){ne(e,!0);const t=ze();q(()=>{t.set({currentStoryExportName:e.exportName,args:e.args,storyContext:e.storyContext,metaRenderSnippet:e.metaRenderSnippet})}),q(()=>{Fi({args:e.args,storyContext:e.storyContext})});var i=I(),r=V(i);he(r,()=>e.Stories,(n,l)=>{l(n,{})}),C(h,i),ae()}const Li=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),Ii=(h,e)=>{const t={stories:new Map};try{const r=Vt(bi,{target:Li(),props:{Stories:h,repository:()=>t}});Nt(r)}catch(r){console.error(`Error in mounting stories ${r.toString()}`,r)}const i={};for(const[r,n]of t.stories){const l={...n,render:(c,u)=>({Component:_i,props:{exportName:r,Stories:h,storyContext:u,args:c,metaRenderSnippet:e.render}})},o=e.play??n.play;o&&(l.play=c=>{const u=c.playFunction?.__play;return u?u(c):o(c)}),i[r]=l}return e.parameters||(e.parameters={}),e.parameters.controls||(e.parameters.controls={}),e.parameters.controls.disableSaveFromUI=!0,i},it={},st={component:Qe,tags:["autodocs"],argTypes:it,parameters:{docs:{description:{component:""}}}},{Story:$}=hi();var Di=re("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function nt(h,e){ne(e,!1),zt();var t=Di(),i=V(t);$(i,{name:"Default",parameters:{docs:{description:{story:"NumericInput is based on [autonumeric](https://autonumeric.org/)"}},__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var r=R(i,2);$(r,{name:"Negative Value",args:{allowNegative:!0},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var n=R(r,2);$(n,{name:"Decimal Places",args:{decimalPlaces:2},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var l=R(n,2);$(l,{name:"Decimal Places with Padding",args:{decimalPlaces:2,decimalPadding:!0},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var o=R(l,2);$(o,{name:"Format Currency",args:{formatCurrency:!0},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var c=R(o,2);$(c,{name:"Lakh Separator",args:{formatCurrency:!0,lakhSeparator:!0},parameters:{docs:{description:{story:"Lakh Separator for INR"}},__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var u=R(c,2);$(u,{name:"Prefix",args:{prefix:"$"},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var m=R(u,2);$(m,{name:"Suffix",args:{suffix:" Units"},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var g=R(m,2);$(g,{name:"Disabled",args:{disabled:!0},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}});var f=R(g,2);$(f,{name:"Readonly",args:{readonly:!0},parameters:{__svelteCsf:{rawCode:"<NumericInput {...args} />"}}}),C(h,t),ae()}nt.__docgen={data:[],name:"NumericInput.stories.svelte"};const z=Ii(nt,st),Bi=["Default","NegativeValue","DecimalPlaces","DecimalPlacesWithPadding","FormatCurrency","LakhSeparator","Prefix","Suffix","Disabled","Readonly"],Mi={...z.Default,tags:["svelte-csf-v5"]},Ri={...z.NegativeValue,tags:["svelte-csf-v5"]},Ui={...z.DecimalPlaces,tags:["svelte-csf-v5"]},$i={...z.DecimalPlacesWithPadding,tags:["svelte-csf-v5"]},zi={...z.FormatCurrency,tags:["svelte-csf-v5"]},Ki={...z.LakhSeparator,tags:["svelte-csf-v5"]},Ai={...z.Prefix,tags:["svelte-csf-v5"]},Wi={...z.Suffix,tags:["svelte-csf-v5"]},Gi={...z.Disabled,tags:["svelte-csf-v5"]},ji={...z.Readonly,tags:["svelte-csf-v5"]},Zi=Object.freeze(Object.defineProperty({__proto__:null,DecimalPlaces:Ui,DecimalPlacesWithPadding:$i,Default:Mi,Disabled:Gi,FormatCurrency:zi,LakhSeparator:Ki,NegativeValue:Ri,Prefix:Ai,Readonly:ji,Suffix:Wi,__namedExportsOrder:Bi,default:st,storyNumericInputArgTypes:it},Symbol.toStringTag,{value:"Module"}));export{Qe as N,Zi as a,Ii as c,hi as d,it as s};
